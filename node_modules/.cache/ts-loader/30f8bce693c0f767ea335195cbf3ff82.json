{"remainingRequest":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\babel-loader\\lib\\index.js!C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\ts-loader\\index.js??ref--14-2!C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\shpCheckBox\\index.vue?vue&type=script&lang=ts&setup=true","dependencies":[{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\shpCheckBox\\index.vue","mtime":1747001722509},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\babel.config.js","mtime":1747014229538},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747302828451},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\babel-loader\\lib\\index.js","mtime":1747302829587},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\ts-loader\\index.js","mtime":1747302829764},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747302828451},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1747302829861}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmlsdGVyLmpzIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyByZWYsIHdhdGNoIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlRGlzcGxheVN0b3JlIH0gZnJvbSAnQC9zdG9yZXMvZGlzcGxheSc7CmV4cG9ydCBkZWZhdWx0IC8qQF9fUFVSRV9fKi9fZGVmaW5lQ29tcG9uZW50KHsKICBfX25hbWU6ICdpbmRleCcsCiAgcHJvcHM6IHsKICAgIGNoZWNrRGF0YTogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHlwZTogQXJyYXkKICAgIH0KICB9LAogIHNldHVwKF9fcHJvcHMsIHsKICAgIGV4cG9zZTogX19leHBvc2UKICB9KSB7CiAgICBfX2V4cG9zZSgpOwogICAgLy8g5aSN6YCJ5qGGCiAgICBjb25zdCBwcm9wcyA9IF9fcHJvcHM7CiAgICBjb25zdCBjaGVja0xpc3QgPSByZWYoW10pOwogICAgY29uc3QgaGFuZGxlQ2hlY2tDaGFuZ2UgPSB2YWx1ZSA9PiB7fTsKICAgIGNvbnN0IHVzZURpc3BsYXkgPSB1c2VEaXNwbGF5U3RvcmUoKTsKICAgIHdhdGNoKGNoZWNrTGlzdCwgKHZhbHVlLCBvbGRWYWx1ZSkgPT4gewogICAgICB2YWx1ZSA9IEFycmF5LmZyb20odmFsdWUpOwogICAgICBvbGRWYWx1ZSA9IEFycmF5LmZyb20ob2xkVmFsdWUpOwogICAgICBsZXQgd2lwZU9mZiA9IG9sZFZhbHVlLmZpbHRlcihpdGVtID0+ICF2YWx1ZS5pbmNsdWRlcyhpdGVtKSk7CiAgICAgIGxldCBuZXdseUluY3JlYXNlZCA9IHZhbHVlLmZpbHRlcihpdGVtID0+ICFvbGRWYWx1ZS5pbmNsdWRlcyhpdGVtKSk7CiAgICAgIGlmICh3aXBlT2ZmLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgbGV0IG5hbWUgPSB3aXBlT2ZmWzBdOwogICAgICAgIF9fZy5zaGFwZUZpbGVMYXllci5oaWRlKGBzcF9wb2ludF8ke25hbWV9YCk7CiAgICAgIH0KICAgICAgaWYgKG5ld2x5SW5jcmVhc2VkLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgaWYgKHVzZURpc3BsYXkuc2hwSGFzU2hvd0Fyci5pbmNsdWRlcyhuZXdseUluY3JlYXNlZFswXSkpIHsKICAgICAgICAgIGxldCBuYW1lID0gbmV3bHlJbmNyZWFzZWRbMF07CiAgICAgICAgICBfX2cuc2hhcGVGaWxlTGF5ZXIuc2hvdyhgc3BfcG9pbnRfJHtuYW1lfWApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBnZXRTaHAobmV3bHlJbmNyZWFzZWRbMF0pOwogICAgICAgICAgY29uc3Qgc2hwSGFzU2hvd0FyciA9IHVzZURpc3BsYXkuc2hwSGFzU2hvd0FycjsKICAgICAgICAgIHNocEhhc1Nob3dBcnIucHVzaChuZXdseUluY3JlYXNlZFswXSk7CiAgICAgICAgICB1c2VEaXNwbGF5LlNldFNocEhhc1Nob3dBcnIoc2hwSGFzU2hvd0Fycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIGNvbnN0IGdldFNocCA9IGFzeW5jIG5hbWUgPT4gewogICAgICAvLyDngrnmlbDmja4KICAgICAgY29uc3QgbyA9IHsKICAgICAgICBpZDogYHNwX3BvaW50XyR7bmFtZX1gLAogICAgICAgIGZpbGU6IGBAcGF0aDrmmbrmhaflub/lt54vc2hwRmlsZS8ke25hbWV9LnNocGAsCiAgICAgICAgcG9pbnRJbWFnZTogYEBwYXRoOuaZuuaFp+W5v+W3ni9zaHBJbWcvJHtuYW1lfS5wbmdgLAogICAgICAgIG9mZnNldDogWzAsIDAsIDBdLAogICAgICAgIHJvdGF0aW9uOiBbMCwgMCwgMF0sCiAgICAgICAgc2NhbGU6IFswLjUsIDAuNSwgMC41XSwKICAgICAgICBwb2ludERpc3BsYXlNb2RlOiAxLAogICAgICAgIHBvaW50Q29udGVudFJhbmc6IDEwMDAwMDAsCiAgICAgICAgcG9pbnRSYW5nOiBbMTAwMDAwMCwgMTAwMDAwMF0sCiAgICAgICAgY2x1c3RlckJ5SW1hZ2U6IHRydWUsCiAgICAgICAgcG9pbnRPY2NsdXNpb25DdWxsOiBmYWxzZSwKICAgICAgICBwb2ludFRleHRDb250ZW50RmllbGROYW1lOiAnJywKICAgICAgICBwb2ludEZvbnRDb2xvcjogWzAsIDAsIDAsIDBdLAogICAgICAgIHBvaW50Rm9udE91dGxpbmVDb2xvcjogWzAsIDAsIDAsIDBdLAogICAgICAgIHBvaW50QmFja2dyb3VuZENvbG9yOiBbMCwgMCwgMCwgMF0gLy8g5a2X5L2T6IOM5pmv6aKc6ImyCiAgICAgIH07CiAgICAgIC8vIOa3u+WKoOeCueaVsOaNrgogICAgICBjb25zdCByZXMgPSBhd2FpdCBfX2cuc2hhcGVGaWxlTGF5ZXIuYWRkKG8pOwogICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgIF9fZy5zaGFwZUZpbGVMYXllci5zaG93KGBzcF9wb2ludF8ke25hbWV9YCk7CiAgICAgIH0KICAgICAgLy8gY29uc29sZS5sb2cocmVzLCAnLS0tLS0nKQogICAgfTsKICAgIGNvbnN0IF9fcmV0dXJuZWRfXyA9IHsKICAgICAgcHJvcHMsCiAgICAgIGNoZWNrTGlzdCwKICAgICAgaGFuZGxlQ2hlY2tDaGFuZ2UsCiAgICAgIHVzZURpc3BsYXksCiAgICAgIGdldFNocAogICAgfTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3JldHVybmVkX18sICdfX2lzU2NyaXB0U2V0dXAnLCB7CiAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICB2YWx1ZTogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gX19yZXR1cm5lZF9fOwogIH0KfSk7"},{"version":3,"names":["defineComponent","_defineComponent","ref","watch","useDisplayStore","__name","props","checkData","required","type","Array","setup","__props","expose","__expose","checkList","handleCheckChange","value","useDisplay","oldValue","from","wipeOff","filter","item","includes","newlyIncreased","length","name","__g","shapeFileLayer","hide","shpHasShowArr","show","getShp","push","SetShpHasShowArr","o","id","file","pointImage","offset","rotation","scale","pointDisplayMode","pointContentRang","pointRang","clusterByImage","pointOcclusionCull","pointTextContentFieldName","pointFontColor","pointFontOutlineColor","pointBackgroundColor","res","add","result","__returned__","Object","defineProperty","enumerable"],"sources":["C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\shpCheckBox\\index.vue?vue&type=script&lang=ts&setup=true"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { ref, watch, watchEffect } from 'vue'\nimport { useDisplayStore } from '@/stores/display'\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    checkData: {\n        required: true,\n        type: Array\n    }\n},\n  setup(__props, { expose: __expose }) {\n  __expose();\n\n// 复选框\nconst props = __props\n\nconst checkList = ref([])\nconst handleCheckChange = (value: any) => {}\n\nconst useDisplay = useDisplayStore()\n\nwatch(checkList, (value, oldValue) => {\n    value = Array.from(value)\n    oldValue = Array.from(oldValue)\n    let wipeOff = oldValue.filter(item => !value.includes(item))\n    let newlyIncreased = value.filter(item => !oldValue.includes(item))\n    if (wipeOff.length != 0) {\n        let name: any = wipeOff[0]\n        __g.shapeFileLayer.hide(`sp_point_${name}`)\n    }\n    if (newlyIncreased.length != 0) {\n        if (useDisplay.shpHasShowArr.includes(newlyIncreased[0])) {\n            let name: any = newlyIncreased[0]\n            __g.shapeFileLayer.show(`sp_point_${name}`)\n        } else {\n            getShp(newlyIncreased[0])\n            const shpHasShowArr = useDisplay.shpHasShowArr\n            shpHasShowArr.push(newlyIncreased[0])\n            useDisplay.SetShpHasShowArr(shpHasShowArr)\n        }\n    }\n})\n\nconst getShp = async (name: string) => {\n    // 点数据\n    const o = {\n        id: `sp_point_${name}`,\n        file: `@path:智慧广州/shpFile/${name}.shp`, //ShapeFile的文件路径，支持本地路径和网络路径\n        pointImage: `@path:智慧广州/shpImg/${name}.png`, // 图片路径\n        offset: [0, 0, 0], //坐标位置偏移量\n        rotation: [0, 0, 0], //旋转\n        scale: [0.5, 0.5, 0.5], // 缩放\n        pointDisplayMode: 1, // 显示模式\n        pointContentRang: 1000000, // 文本可见距离，单位米\n        pointRang: [1000000, 1000000], // 可见距离（米）点坐标：[X,Y]\n        clusterByImage: true, //是否按相同图片路径(pointImage)聚合显示\n        pointOcclusionCull: false, // 是否参与遮挡 默认true\n        pointTextContentFieldName: '', // 文本内容（点字段）\n        pointFontColor: [0, 0, 0, 0], // 字体颜色\n        pointFontOutlineColor: [0, 0, 0, 0], // 字体轮廓颜色\n        pointBackgroundColor: [0, 0, 0, 0] // 字体背景颜色\n    }\n    // 添加点数据\n    const res = await __g.shapeFileLayer.add(o)\n    if (res.result) {\n        __g.shapeFileLayer.show(`sp_point_${name}`)\n    }\n    // console.log(res, '-----')\n}\n\nconst __returned__ = { props, checkList, handleCheckChange, useDisplay, getShp }\nObject.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true })\nreturn __returned__\n}\n\n})"],"mappings":";;;AAAA,SAASA,eAAe,IAAIC,gBAAgB,QAAQ,KAAK;AACzD,SAASC,GAAG,EAAEC,KAAK,QAAqB,KAAK;AAC7C,SAASC,eAAe,QAAQ,kBAAkB;AAGlD,eAAe,aAAaH,gBAAgB,CAAC;EAC3CI,MAAM,EAAE,OAAO;EACfC,KAAK,EAAE;IACLC,SAAS,EAAE;MACPC,QAAQ,EAAE,IAAI;MACdC,IAAI,EAAEC;;GAEb;EACCC,KAAKA,CAACC,OAAO,EAAE;IAAEC,MAAM,EAAEC;EAAQ,CAAE;IACnCA,QAAQ,EAAE;IAEZ;IACA,MAAMR,KAAK,GAAGM,OAAO;IAErB,MAAMG,SAAS,GAAGb,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMc,iBAAiB,GAAIC,KAAU,IAAI,CAAE,CAAC;IAE5C,MAAMC,UAAU,GAAGd,eAAe,EAAE;IAEpCD,KAAK,CAACY,SAAS,EAAE,CAACE,KAAK,EAAEE,QAAQ,KAAI;MACjCF,KAAK,GAAGP,KAAK,CAACU,IAAI,CAACH,KAAK,CAAC;MACzBE,QAAQ,GAAGT,KAAK,CAACU,IAAI,CAACD,QAAQ,CAAC;MAC/B,IAAIE,OAAO,GAAGF,QAAQ,CAACG,MAAM,CAACC,IAAI,IAAI,CAACN,KAAK,CAACO,QAAQ,CAACD,IAAI,CAAC,CAAC;MAC5D,IAAIE,cAAc,GAAGR,KAAK,CAACK,MAAM,CAACC,IAAI,IAAI,CAACJ,QAAQ,CAACK,QAAQ,CAACD,IAAI,CAAC,CAAC;MACnE,IAAIF,OAAO,CAACK,MAAM,IAAI,CAAC,EAAE;QACrB,IAAIC,IAAI,GAAQN,OAAO,CAAC,CAAC,CAAC;QAC1BO,GAAG,CAACC,cAAc,CAACC,IAAI,CAAC,YAAYH,IAAI,EAAE,CAAC;;MAE/C,IAAIF,cAAc,CAACC,MAAM,IAAI,CAAC,EAAE;QAC5B,IAAIR,UAAU,CAACa,aAAa,CAACP,QAAQ,CAACC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE;UACtD,IAAIE,IAAI,GAAQF,cAAc,CAAC,CAAC,CAAC;UACjCG,GAAG,CAACC,cAAc,CAACG,IAAI,CAAC,YAAYL,IAAI,EAAE,CAAC;SAC9C,MAAM;UACHM,MAAM,CAACR,cAAc,CAAC,CAAC,CAAC,CAAC;UACzB,MAAMM,aAAa,GAAGb,UAAU,CAACa,aAAa;UAC9CA,aAAa,CAACG,IAAI,CAACT,cAAc,CAAC,CAAC,CAAC,CAAC;UACrCP,UAAU,CAACiB,gBAAgB,CAACJ,aAAa,CAAC;;;IAGtD,CAAC,CAAC;IAEF,MAAME,MAAM,GAAG,MAAON,IAAY,IAAI;MAClC;MACA,MAAMS,CAAC,GAAG;QACNC,EAAE,EAAE,YAAYV,IAAI,EAAE;QACtBW,IAAI,EAAE,sBAAsBX,IAAI,MAAM;QACtCY,UAAU,EAAE,qBAAqBZ,IAAI,MAAM;QAC3Ca,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjBC,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACnBC,KAAK,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;QACtBC,gBAAgB,EAAE,CAAC;QACnBC,gBAAgB,EAAE,OAAO;QACzBC,SAAS,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;QAC7BC,cAAc,EAAE,IAAI;QACpBC,kBAAkB,EAAE,KAAK;QACzBC,yBAAyB,EAAE,EAAE;QAC7BC,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAC5BC,qBAAqB,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACnCC,oBAAoB,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;OACtC;MACD;MACA,MAAMC,GAAG,GAAG,MAAMxB,GAAG,CAACC,cAAc,CAACwB,GAAG,CAACjB,CAAC,CAAC;MAC3C,IAAIgB,GAAG,CAACE,MAAM,EAAE;QACZ1B,GAAG,CAACC,cAAc,CAACG,IAAI,CAAC,YAAYL,IAAI,EAAE,CAAC;;MAE/C;IACJ,CAAC;IAED,MAAM4B,YAAY,GAAG;MAAEjD,KAAK;MAAES,SAAS;MAAEC,iBAAiB;MAAEE,UAAU;MAAEe;IAAM,CAAE;IAChFuB,MAAM,CAACC,cAAc,CAACF,YAAY,EAAE,iBAAiB,EAAE;MAAEG,UAAU,EAAE,KAAK;MAAEzC,KAAK,EAAE;IAAI,CAAE,CAAC;IAC1F,OAAOsC,YAAY;EACnB;CAEC,CAAC","ignoreList":[]}]}