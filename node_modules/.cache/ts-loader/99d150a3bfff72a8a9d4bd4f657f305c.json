{"remainingRequest":"C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\node_modules\\ts-loader\\index.js??ref--14-2!C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\src\\Views\\home\\WisdomFive\\opers\\metroPlanning.ts","dependencies":[{"path":"C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\src\\Views\\home\\WisdomFive\\opers\\metroPlanning.ts","mtime":1747970161597},{"path":"C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\babel.config.js","mtime":1747014229538},{"path":"C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747302828451},{"path":"C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\node_modules\\babel-loader\\lib\\index.js","mtime":1747302829587},{"path":"C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\node_modules\\ts-loader\\index.js","mtime":1747302829764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgeyBnZXRNZXRyb0RhdGEgfSBmcm9tICdAL2FwaS9ob21lJzsKaW1wb3J0IHsgaGlkZUFsbFRyZWVJbmZvIH0gZnJvbSAnQC91dGlscy9zaG93T3JIaWRlSW5mb1RyZWUnOwppbXBvcnQgeyB1c2VEaXNwbGF5U3RvcmUgfSBmcm9tICdAL3N0b3Jlcy9kaXNwbGF5JzsKLy8g5Zyw6ZOB56uZ54K55Z2Q5qCHCmNvbnN0IG1ldHJvU3RhdGlvbkFyciA9IFtdOwovLyDnlKjkuo7mmL7npLrpmpDol48KY29uc3Qgc2hNYXJrID0gW107CmNvbnN0IHNoUG9seWxpbmUgPSBbXTsKY29uc3Qgc2hCZWFtID0gW107Ci8qKg0KICog5re75Yqg5Zyw6ZOB56uZbWFyaw0KICovCmNvbnN0IGFkZFN1YndheVN0YXRpb24gPSBhc3luYyBkYXRhID0+IHsKICBjb25zdCBzdGF0aW9uTWFya0FyciA9IFtdOwogIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHsKICAgIGNvbnN0IGl0ZW0gPSBkYXRhW2tleV07CiAgICBpdGVtLmNvb3JkaW5hdGVzLmZvckVhY2goKGNvb3JzLCBpbmRleCkgPT4gewogICAgICBjb29ycy5mb3JFYWNoKGNzID0+IHsKICAgICAgICBjcy5mb3JFYWNoKChjLCBpbmRleCkgPT4gewogICAgICAgICAgY1syXSA9IDA7CiAgICAgICAgICBpZiAoaW5kZXggJSAzMCA8PSAwKSB7CiAgICAgICAgICAgIG1ldHJvU3RhdGlvbkFyci5wdXNoKGMpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0KICBtZXRyb1N0YXRpb25BcnIuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgIC8v5pSv5oyB57uP57qs5bqm5Z2Q5qCH5ZKM5pmu6YCa5oqV5b2x5Z2Q5qCH5Lik56eN57G75Z6LCiAgICBjb25zdCBvID0gewogICAgICBpZDogYFN1YndheVN0YXRpb25fJHtpbmRleH1gLAogICAgICBncm91cElkOiAnbWFya2VyQWRkJywKICAgICAgY29vcmRpbmF0ZTogaXRlbSwKICAgICAgY29vcmRpbmF0ZVR5cGU6IDAsCiAgICAgIGFuY2hvcnM6IFstMTMsIDMwXSwKICAgICAgaW1hZ2VTaXplOiBbMjUsIDMwXSwKICAgICAgaG92ZXJJbWFnZVNpemU6IFs1MCwgNTBdLAogICAgICByYW5nZTogWzEsIDEwMDAwMDBdLAogICAgICBpbWFnZVBhdGg6IGBAcGF0aDrmmbrmhaflub/lt54vY3VzdG9tVGFnL21hcmsvbWFwX3Nwb3RfZGl0aWUucG5nYCwKICAgICAgZml4ZWRTaXplOiB0cnVlLAogICAgICBhdXRvSGVpZ2h0OiBmYWxzZSwKICAgICAgZGlzcGxheU1vZGU6IDIsCiAgICAgIGNsdXN0ZXJCeUltYWdlOiB0cnVlLAogICAgICBwcmlvcml0eTogMCwKICAgICAgb2NjbHVzaW9uQ3VsbDogdHJ1ZSAvL+aYr+WQpuWPguS4jumBruaMoeWJlOmZpAogICAgfTsKICAgIHNoTWFyay5wdXNoKGBTdWJ3YXlTdGF0aW9uXyR7aW5kZXh9YCk7CiAgICBzdGF0aW9uTWFya0Fyci5wdXNoKG8pOwogIH0pOwogIC8vICAgICBjb25zdCByZXMgPSBhd2FpdCBfX2cubWFya2VyLmFkZChzdGF0aW9uTWFya0FycikKICAvLyAgICAgaWYgKHJlcy5yZXN1bHQpIHsKICAvLyAgICAgICAgIF9fZy5tYXJrZXIuc2hvdyhzaE1hcmspCiAgLy8gICAgIH0KfTsKLyoqDQogKiDliJLnur8NCiAqIEBwYXJhbSBkYXRhDQogKiBAY29uc3RydWN0b3INCiAqLwpjb25zdCBBZGRQb2x5bGluZSA9IGFzeW5jIGRhdGEgPT4gewogIC8v5re75Yqg55u45ZCM54K55L2N55qEcG9seWxpbmXlkozlhYnmtYEKICBjb25zdCBkYXRhcyA9IFtdOwogIGNvbnN0IGJlYW1zID0gW107CiAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkgewogICAgY29uc3QgaXRlbSA9IGRhdGFba2V5XTsKICAgIGl0ZW0uY29vcmRpbmF0ZXMuZm9yRWFjaCgoY29vcnMsIGluZGV4KSA9PiB7CiAgICAgIGNvb3JzLmZvckVhY2goY3MgPT4gewogICAgICAgIGNzLmZvckVhY2goYyA9PiB7CiAgICAgICAgICBjWzJdID0gMDsKICAgICAgICB9KTsKICAgICAgICBjb25zdCBvYmogPSB7CiAgICAgICAgICBpZDogYG1ldHJvX3BvbHlMaW5lXyR7a2V5fV8ke2luZGV4fWAsCiAgICAgICAgICBjb29yZGluYXRlczogY3MsCiAgICAgICAgICBjb2xvcjogaXRlbS5jb2xvciwKICAgICAgICAgIHN0eWxlOiA0LAogICAgICAgICAgdGhpY2tuZXNzOiAzMCwKICAgICAgICAgIGludGVuc2l0eTogOCwKICAgICAgICAgIGZsb3dSYXRlOiAwLjIsCiAgICAgICAgICB0aWxpbmc6IDAsCiAgICAgICAgICBzaGFwZTogMCwKICAgICAgICAgIGRlcHRoVGVzdDogZmFsc2UsCiAgICAgICAgICBjb29yZGluYXRlVHlwZTogMQogICAgICAgIH07CiAgICAgICAgY29uc3Qgb2JqMiA9IHsKICAgICAgICAgIGlkOiBgbWV0cm9fYmVhbV8ke2tleX1fJHtpbmRleH1gLAogICAgICAgICAgY29vcmRpbmF0ZXM6IGNzLAogICAgICAgICAgZHVyYXRpb246IDMsCiAgICAgICAgICB0aGlja25lc3M6IDUsCiAgICAgICAgICBpbnRlcnZhbDogMi41LAogICAgICAgICAgdmVsb2NpdHk6IDAuNywKICAgICAgICAgIGNvbG9yOiBpdGVtLmNvbG9yIC8v5YWJ5rWB55qE6aKc6ImyCiAgICAgICAgfTsKICAgICAgICBzaFBvbHlsaW5lLnB1c2goYG1ldHJvX3BvbHlMaW5lXyR7a2V5fV8ke2luZGV4fWApOwogICAgICAgIHNoQmVhbS5wdXNoKGBtZXRyb19iZWFtXyR7a2V5fV8ke2luZGV4fWApOwogICAgICAgIGRhdGFzLnB1c2gob2JqKTsKICAgICAgICBiZWFtcy5wdXNoKG9iajIpOwogICAgICB9KTsKICAgIH0pOwogIH0KICAvLyBjb25zdCByZXMgPSBhd2FpdCBfX2cucG9seWxpbmUuYWRkKGRhdGFzKQogIC8vIGlmIChyZXMucmVzdWx0KSB7CiAgLy8gICAgIF9fZy5wb2x5bGluZS5zaG93KHNoUG9seWxpbmUpCiAgLy8gfQogIC8vIGNvbnN0IHJlczEgPSBhd2FpdCBfX2cuYmVhbS5hZGQoYmVhbXMpCiAgLy8gaWYgKHJlczEucmVzdWx0KSB7CiAgLy8gICAgIF9fZy5iZWFtLnNob3coc2hCZWFtKQogIC8vIH0KfTsKLyoqDQogKiDojrflj5blnLDpk4HmlbDmja4NCiAqLwpjb25zdCBhY2Nlc3NUb1N1YndheUxpbmVzID0gYXN5bmMgKCkgPT4gewogIC8vIOmHjee9ruWcsOmTgeWvueixoeeahOWdkOagh+aVsOe7hAogIGZvciAoY29uc3Qga2V5IGluIHN1YndheU9iaikgewogICAgc3Vid2F5T2JqW2tleV0uY29vcmRpbmF0ZXMgPSBbXTsKICB9CiAgYXdhaXQgZ2V0TWV0cm9EYXRhKCkudGhlbihyZXMgPT4gewogICAgZm9yIChjb25zdCBrZXkgaW4gc3Vid2F5T2JqKSB7CiAgICAgIHJlcy5mZWF0dXJlcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGNvbnN0IHJlZyA9IFJlZ0V4cChrZXksICdpJyk7CiAgICAgICAgaWYgKHJlZy5leGVjKGl0ZW0ucHJvcGVydGllcy5weW5hbWUpKSB7CiAgICAgICAgICBzdWJ3YXlPYmpba2V5XS5jb29yZGluYXRlcy5wdXNoKGl0ZW0uZ2VvbWV0cnkuY29vcmRpbmF0ZXMpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSk7Cn07CmNvbnN0IGRpc3BsYXlTdG9yZSA9IHVzZURpc3BsYXlTdG9yZSgpOwovKioNCiAqIOWIneWni+WMluWcsOmTgeinhOWIkg0KICovCmNvbnN0IGluaXRNZXRyb1BsYW5uaW5nID0gYXN5bmMgKCkgPT4gewogIC8vIF9fZy5jYW1lcmEuc3RvcEFuaW1hdGlvbigpCiAgLy8gX19nLmNhbWVyYS5zZXQoNDQwMzk0LjIyNzAzMSwgMjU1ODA3MS4yMTk2MDksIDI3NjY4LjYxNSwgLTcwLjczNDkwOSwgMTc4LjM0MDkxMiwgMSkKICAvLyAvLyDlvIDlkK/nlLXlrZDlnLDlm74KICAvLyBfX2cuc2V0dGluZ3Muc2V0TWFwTW9kZSgKICAvLyAgICAgMiwKICAvLyAgICAgewogIC8vICAgICAgICAgLy/lnLDlm77mqKHlvI/nm7jlhbPnmoTlj4LmlbDvvIzlhbfkvZPor7flj4LogINBUEnluK7liqnmlofmoaMKICAvLyAgICAgICAgIGNvb3JkVHlwZTogMCwgLy8gY29vcmRUeXBlOiDlnZDmoIfns7vnsbvlnovvvIww77ya57uP57qs5bqm77ybMe+8muacrOWcsO+8iOm7mOiupOWAvOaYrzDvvIkKICAvLyAgICAgICAgIHNlcnZpY2VUeXBlOiA0LCAvLyBzZXJ2aWNlVHlwZTog5pyN5Yqh57G75Z6L77yMMO+8mk1WVOefoumHj+WIh+eJh++8myAx77yaV01UUyhBcmNHaXMpIO+8iOm7mOiupOWAvOaYrzDvvIkKICAvLyAgICAgICAgIG1hcFBvaW50OiBbNDMwODA5LjEyLCAyNTU2NDgxLjU0XSwgLy8gbWFwUG9pbnQ6IOWQjOWQjeeCue+8jOWPluWAvOiMg+WbtO+8mlt4LHld77yM77yI6buY6K6k5YC85pivWzAsIDBd77yJCiAgLy8gICAgICAgICBsb25naXR1ZGU6IDExMy4zMjQ1OTMsIC8vIGxvbmdpdHVkZTog57uP5bqm77yM5Y+W5YC86IyD5Zu077yaWzB+MTgwXe+8iOm7mOiupOWAvOaYrzAuMO+8iQogIC8vICAgICAgICAgbGF0aXR1ZGU6IDIzLjEwNjQwNSwgLy8gbGF0aXR1ZGU6IOe6rOW6pu+8jOWPluWAvOiMg+WbtO+8mlswfjkwXe+8iOm7mOiupOWAvOaYrzAuMO+8iQogIC8vICAgICAgICAgc3R5bGU6ICdtYXBib3g6Ly9zdHlsZXMvbWFwYm94L2RhcmstdjknLCAvLyBzdHlsZTog6aOO5qC86Lev5b6E77yM5a2X56ym5Liy5Zyw5Z2A77yM77yI6buY6K6k5YC85pivICJtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjEwIu+8iQogIC8vICAgICAgICAgZ3JvdW5kSGVpZ2h0OiAxNTAsIC8vIGdyb3VuZEhlaWdodDog5Zyw6Z2i6auY5bqm77yM5Y+W5YC86IyD5Zu077yaWzB+5Lu75oSP5pWw5YC8Xe+8iOm7mOiupOWAvOaYrzAuMO+8iQogIC8vICAgICAgICAgcmVuZGVyTW9kZTogMCwgLy8gcmVuZGVyTW9kZTog5riy5p+T5qih5byP77yMMO+8muato+W4uO+8mzHvvJrpgI/mmI7vvJsy77ya5qCH5rOo77ybM++8mui0tOWcsO+8iOm7mOiupOWAvOaYrzDvvIkKICAvLyAgICAgICAgIGNvb3JkT3JkZXI6IDAsIC8vIGNvb3JkT3JkZXI6IOWdkOagh+mhuuW6j++8jDA6IFhZOyAxOiBZWO+8iOm7mOiupOWAvOS4ujDvvIkKICAvLyAgICAgICAgIG1heExldmVsOiAyMiAvLyBheExldmVsOiBXTVRT5pyN5Yqh5pyA5aSn5pi+56S65bGC57qn77yM5Y+W5YC86IyD5Zu077yaWzB+MjJd77yM6buY6K6k5YC877yaMTAKICAvLyAgICAgfSwKICAvLyAgICAgKCkgPT4gewogIC8vICAgICAgICAgY29uc29sZS5sb2coJ+iuvue9ruWkp+WcsOWbvuaooeW8j+WujOaIkCcpCiAgLy8gICAgIH0KICAvLyApCiAgLy8g6ZqQ6JeP5omA5pyJ5Zu+5bGCCiAgaGlkZUFsbFRyZWVJbmZvKCk7CiAgaWYgKGRpc3BsYXlTdG9yZS5zaG93TWV0cm9QbGFubmluZykgewogICAgLy8gX19nLnBvbHlsaW5lLnNob3coc2hQb2x5bGluZSkKICAgIC8vIF9fZy5iZWFtLnNob3coc2hCZWFtKQogICAgLy8gX19nLm1hcmtlci5zaG93KHNoTWFyaykKICB9IGVsc2UgewogICAgLy8g6I635Y+W5Zyw6ZOB5pWw5o2uCiAgICBhd2FpdCBhY2Nlc3NUb1N1YndheUxpbmVzKCk7CiAgICAvLyDliJLnur8KICAgIGF3YWl0IEFkZFBvbHlsaW5lKHN1YndheU9iaik7CiAgICAvLyDlnLDpk4Hnq5nngrkKICAgIGF3YWl0IGFkZFN1YndheVN0YXRpb24oc3Vid2F5T2JqKTsKICAgIGRpc3BsYXlTdG9yZS5TZXRTaG93TWV0cm9QbGFubmluZyh0cnVlKTsKICB9Cn07Ci8qKg0KICog6L+Y5Y6fDQogKi8KY29uc3QgY2xlYW5NZXRyb1BsYW5uaW5nID0gKCkgPT4gewogIC8vIF9fZy5wb2x5bGluZS5oaWRlKHNoUG9seWxpbmUpCiAgLy8gX19nLmJlYW0uaGlkZShzaEJlYW0pCiAgLy8gX19nLm1hcmtlci5oaWRlKHNoTWFyaykKICAvLyBfX2cucG9seWxpbmUuY2xlYXIobnVsbCkKICAvLyBfX2cuYmVhbS5jbGVhcihudWxsKQogIC8vIF9fZy5tYXJrZXIuY2xlYXIobnVsbCkKICAvLyDlhbPpl63nlLXlrZDlnLDlm74KICAvLyBfX2cuc2V0dGluZ3Muc2V0TWFwTW9kZSgKICAvLyAwLAogIC8vIHsKICAvLyAgICAgLy/lnLDlm77mqKHlvI/nm7jlhbPnmoTlj4LmlbDvvIzlhbfkvZPor7flj4LogINBUEnluK7liqnmlofmoaMKICAvLyAgICAgY29vcmRUeXBlOiAwLCAvLyBjb29yZFR5cGU6IOWdkOagh+ezu+exu+Wei++8jDDvvJrnu4/nuqzluqbvvJsx77ya5pys5Zyw77yI6buY6K6k5YC85pivMO+8iQogIC8vICAgICBzZXJ2aWNlVHlwZTogNCwgLy8gc2VydmljZVR5cGU6IOacjeWKoeexu+Wei++8jDDvvJpNVlTnn6Lph4/liIfniYfvvJsgMe+8mldNVFMoQXJjR2lzKSDvvIjpu5jorqTlgLzmmK8w77yJCiAgLy8gICAgIG1hcFBvaW50OiBbNDMwODA5LjEyLCAyNTU2NDgxLjU0XSwgLy8gbWFwUG9pbnQ6IOWQjOWQjeeCue+8jOWPluWAvOiMg+WbtO+8mlt4LHld77yM77yI6buY6K6k5YC85pivWzAsIDBd77yJCiAgLy8gICAgIGxvbmdpdHVkZTogMTEzLjMyNDU5MywgLy8gbG9uZ2l0dWRlOiDnu4/luqbvvIzlj5blgLzojIPlm7TvvJpbMH4xODBd77yI6buY6K6k5YC85pivMC4w77yJCiAgLy8gICAgIGxhdGl0dWRlOiAyMy4xMDY0MDUsIC8vIGxhdGl0dWRlOiDnuqzluqbvvIzlj5blgLzojIPlm7TvvJpbMH45MF3vvIjpu5jorqTlgLzmmK8wLjDvvIkKICAvLyAgICAgc3R5bGU6ICdtYXBib3g6Ly9zdHlsZXMvbWFwYm94L2RhcmstdjknLCAvLyBzdHlsZTog6aOO5qC86Lev5b6E77yM5a2X56ym5Liy5Zyw5Z2A77yM77yI6buY6K6k5YC85pivICJtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjEwIu+8iQogIC8vICAgICBncm91bmRIZWlnaHQ6IDE1MCwgLy8gZ3JvdW5kSGVpZ2h0OiDlnLDpnaLpq5jluqbvvIzlj5blgLzojIPlm7TvvJpbMH7ku7vmhI/mlbDlgLxd77yI6buY6K6k5YC85pivMC4w77yJCiAgLy8gICAgIHJlbmRlck1vZGU6IDAsIC8vIHJlbmRlck1vZGU6IOa4suafk+aooeW8j++8jDDvvJrmraPluLjvvJsx77ya6YCP5piO77ybMu+8muagh+azqO+8mzPvvJrotLTlnLDvvIjpu5jorqTlgLzmmK8w77yJCiAgLy8gICAgIGNvb3JkT3JkZXI6IDAsIC8vIGNvb3JkT3JkZXI6IOWdkOagh+mhuuW6j++8jDA6IFhZOyAxOiBZWO+8iOm7mOiupOWAvOS4ujDvvIkKICAvLyAgICAgbWF4TGV2ZWw6IDIyIC8vIGF4TGV2ZWw6IFdNVFPmnI3liqHmnIDlpKfmmL7npLrlsYLnuqfvvIzlj5blgLzojIPlm7TvvJpbMH4yMl3vvIzpu5jorqTlgLzvvJoxMAogIC8vIH0sCiAgLy8gICAgICgpID0+IHsKICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCforr7nva7lnLDlm77mqKHlvI/lrozmiJAnKQogIC8vICAgICB9CiAgLy8gKQp9OwovLyDlnLDpk4Hnur/ot6/lr7nosaEKY29uc3Qgc3Vid2F5T2JqID0gewogICcxJzogewogICAgY29sb3I6ICcjZWZjNjQ5JywKICAgIGNvb3JkaW5hdGVzOiBbXQogIH0sCiAgJzInOiB7CiAgICBjb2xvcjogJyM0MjYwOGInLAogICAgY29vcmRpbmF0ZXM6IFtdCiAgfSwKICAnMyc6IHsKICAgIGNvbG9yOiAnI2U4OTI0OScsCiAgICBjb29yZGluYXRlczogW10KICB9LAogICc0JzogewogICAgY29sb3I6ICcjMzM2ZDM1JywKICAgIGNvb3JkaW5hdGVzOiBbXQogIH0sCiAgJzUnOiB7CiAgICBjb2xvcjogJyNiZDJmM2YnLAogICAgY29vcmRpbmF0ZXM6IFtdCiAgfSwKICAnNic6IHsKICAgIGNvbG9yOiAnIzZhMjg0NicsCiAgICBjb29yZGluYXRlczogW10KICB9LAogICc4JzogewogICAgY29sb3I6ICcjMzY3OTc4JywKICAgIGNvb3JkaW5hdGVzOiBbXQogIH0sCiAgYXg6IHsKICAgIGNvbG9yOiAnI2IzY2UzMCcsCiAgICBjb29yZGluYXRlczogW10KICB9Cn07CmV4cG9ydCB7IGluaXRNZXRyb1BsYW5uaW5nLCBjbGVhbk1ldHJvUGxhbm5pbmcgfTs="},{"version":3,"names":["getMetroData","hideAllTreeInfo","useDisplayStore","metroStationArr","shMark","shPolyline","shBeam","addSubwayStation","data","stationMarkArr","key","item","coordinates","forEach","coors","index","cs","c","push","o","id","groupId","coordinate","coordinateType","anchors","imageSize","hoverImageSize","range","imagePath","fixedSize","autoHeight","displayMode","clusterByImage","priority","occlusionCull","AddPolyline","datas","beams","obj","color","style","thickness","intensity","flowRate","tiling","shape","depthTest","obj2","duration","interval","velocity","accessToSubwayLines","subwayObj","then","res","features","reg","RegExp","exec","properties","pyname","geometry","displayStore","initMetroPlanning","showMetroPlanning","SetShowMetroPlanning","cleanMetroPlanning","ax"],"sources":["C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\src\\Views\\home\\WisdomFive\\opers\\metroPlanning.ts"],"sourcesContent":["import { getMetroData } from '@/api/home'\nimport { hideAllTreeInfo } from '@/utils/showOrHideInfoTree'\nimport { useDisplayStore } from '@/stores/display'\n\n// 地铁站点坐标\nconst metroStationArr: any = []\n// 用于显示隐藏\nconst shMark: any = []\nconst shPolyline: any = []\nconst shBeam: any = []\n/**\n * 添加地铁站mark\n */\nconst addSubwayStation = async (data: any) => {\n    const stationMarkArr: any = []\n    for (const key in data) {\n        const item = data[key]\n        item.coordinates.forEach((coors: any, index: number) => {\n            coors.forEach((cs: any) => {\n                cs.forEach((c: any, index: number) => {\n                    c[2] = 0\n                    if (index % 30 <= 0) {\n                        metroStationArr.push(c)\n                    }\n                })\n            })\n        })\n    }\n    metroStationArr.forEach((item: any, index: number) => {\n        //支持经纬度坐标和普通投影坐标两种类型\n        const o = {\n            id: `SubwayStation_${index}`,\n            groupId: 'markerAdd',\n            coordinate: item, //坐标位置\n            coordinateType: 0, //默认0是投影坐标系，也可以设置为经纬度空间坐标系值为1\n            anchors: [-13, 30], //锚点，设置Marker的整体偏移，取值规则和imageSize设置的宽高有关，图片的左上角会对准标注点的坐标位置。示例设置规则：x=-imageSize.width/2，y=imageSize.height\n            imageSize: [25, 30], //图片的尺寸\n            hoverImageSize: [50, 50], //鼠标悬停时显示的图片尺寸\n            range: [1, 1000000], //可视范围\n            imagePath: `@path:智慧广州/customTag/mark/map_spot_ditie.png`, //显示图片路径\n            fixedSize: true, //图片固定尺寸，取值范围：false 自适应，近大远小，true 固定尺寸，默认值：false\n\n            autoHeight: false, // 自动判断下方是否有物体\n            displayMode: 2, //显示模式\n            clusterByImage: true, // 聚合时是否根据图片路径分类，即当多个marker的imagePath路径参数相同时按路径对marker分类聚合\n            priority: 0, //避让优先级\n            occlusionCull: true //是否参与遮挡剔除\n        }\n        shMark.push(`SubwayStation_${index}`)\n        stationMarkArr.push(o)\n    })\n//     const res = await __g.marker.add(stationMarkArr)\n//     if (res.result) {\n//         __g.marker.show(shMark)\n//     }\n}\n\n/**\n * 划线\n * @param data\n * @constructor\n */\nconst AddPolyline = async (data: any) => {\n    //添加相同点位的polyline和光流\n    const datas: any = []\n    const beams: any = []\n    for (const key in data) {\n        const item = data[key]\n        item.coordinates.forEach((coors: any, index: number) => {\n            coors.forEach((cs: any) => {\n                cs.forEach((c: any) => {\n                    c[2] = 0\n                })\n                const obj = {\n                    id: `metro_polyLine_${key}_${index}`, //折线唯一标识id\n                    coordinates: cs, //构成折线的坐标点数组\n                    color: item.color, //折线颜色\n                    style: 4, //折线样式 参考样式枚举：PolylineStyle\n                    thickness: 30, //折线宽度\n                    intensity: 8, //亮度\n                    flowRate: 0.2, //流速\n                    tiling: 0, //材质贴图平铺比例\n                    shape: 0, //折线类型 0：直线， 1：曲线\n                    depthTest: false, //是否做深度检测\n                    coordinateType: 1\n                }\n                const obj2 = {\n                    id: `metro_beam_${key}_${index}`, //折线唯一标识id\n                    coordinates: cs, //构成折线的坐标点数组\n                    duration: 3, //光流粒子的生命周期\n                    thickness: 5, //光流线的宽度比例\n                    interval: 2.5, //光流粒子发射间隔\n                    velocity: 0.7, //光流粒子的速度\n                    color: item.color //光流的颜色\n                }\n                shPolyline.push(`metro_polyLine_${key}_${index}`)\n                shBeam.push(`metro_beam_${key}_${index}`)\n                datas.push(obj)\n                beams.push(obj2)\n            })\n        })\n    }\n    // const res = await __g.polyline.add(datas)\n    // if (res.result) {\n    //     __g.polyline.show(shPolyline)\n    // }\n    // const res1 = await __g.beam.add(beams)\n    // if (res1.result) {\n    //     __g.beam.show(shBeam)\n    // }\n}\n\n/**\n * 获取地铁数据\n */\nconst accessToSubwayLines = async () => {\n    // 重置地铁对象的坐标数组\n    for (const key in subwayObj) {\n        subwayObj[key].coordinates = []\n    }\n    await getMetroData().then((res: any) => {\n        for (const key in subwayObj as any) {\n            res.features.forEach((item: any) => {\n                const reg = RegExp(key, 'i')\n                if (reg.exec(item.properties.pyname)) {\n                    subwayObj[key].coordinates.push(item.geometry.coordinates)\n                }\n            })\n        }\n    })\n}\n\nconst displayStore = useDisplayStore()\n/**\n * 初始化地铁规划\n */\nconst initMetroPlanning = async () => {\n    // __g.camera.stopAnimation()\n    // __g.camera.set(440394.227031, 2558071.219609, 27668.615, -70.734909, 178.340912, 1)\n    // // 开启电子地图\n    // __g.settings.setMapMode(\n    //     2,\n    //     {\n    //         //地图模式相关的参数，具体请参考API帮助文档\n    //         coordType: 0, // coordType: 坐标系类型，0：经纬度；1：本地（默认值是0）\n    //         serviceType: 4, // serviceType: 服务类型，0：MVT矢量切片； 1：WMTS(ArcGis) （默认值是0）\n    //         mapPoint: [430809.12, 2556481.54], // mapPoint: 同名点，取值范围：[x,y]，（默认值是[0, 0]）\n    //         longitude: 113.324593, // longitude: 经度，取值范围：[0~180]（默认值是0.0）\n    //         latitude: 23.106405, // latitude: 纬度，取值范围：[0~90]（默认值是0.0）\n    //         style: 'mapbox://styles/mapbox/dark-v9', // style: 风格路径，字符串地址，（默认值是 \"mapbox://styles/mapbox/streets-v10\"）\n    //         groundHeight: 150, // groundHeight: 地面高度，取值范围：[0~任意数值]（默认值是0.0）\n    //         renderMode: 0, // renderMode: 渲染模式，0：正常；1：透明；2：标注；3：贴地（默认值是0）\n    //         coordOrder: 0, // coordOrder: 坐标顺序，0: XY; 1: YX（默认值为0）\n    //         maxLevel: 22 // axLevel: WMTS服务最大显示层级，取值范围：[0~22]，默认值：10\n    //     },\n    //     () => {\n    //         console.log('设置大地图模式完成')\n    //     }\n    // )\n    // 隐藏所有图层\n    hideAllTreeInfo()\n    if (displayStore.showMetroPlanning) {\n        // __g.polyline.show(shPolyline)\n        // __g.beam.show(shBeam)\n        // __g.marker.show(shMark)\n    } else {\n        // 获取地铁数据\n        await accessToSubwayLines()\n        // 划线\n        await AddPolyline(subwayObj)\n        // 地铁站点\n        await addSubwayStation(subwayObj)\n        displayStore.SetShowMetroPlanning(true)\n    }\n}\n\n/**\n * 还原\n */\nconst cleanMetroPlanning = () => {\n    // __g.polyline.hide(shPolyline)\n    // __g.beam.hide(shBeam)\n    // __g.marker.hide(shMark)\n\n    // __g.polyline.clear(null)\n    // __g.beam.clear(null)\n    // __g.marker.clear(null)\n    // 关闭电子地图\n    // __g.settings.setMapMode(\n        // 0,\n        // {\n        //     //地图模式相关的参数，具体请参考API帮助文档\n        //     coordType: 0, // coordType: 坐标系类型，0：经纬度；1：本地（默认值是0）\n        //     serviceType: 4, // serviceType: 服务类型，0：MVT矢量切片； 1：WMTS(ArcGis) （默认值是0）\n        //     mapPoint: [430809.12, 2556481.54], // mapPoint: 同名点，取值范围：[x,y]，（默认值是[0, 0]）\n        //     longitude: 113.324593, // longitude: 经度，取值范围：[0~180]（默认值是0.0）\n        //     latitude: 23.106405, // latitude: 纬度，取值范围：[0~90]（默认值是0.0）\n        //     style: 'mapbox://styles/mapbox/dark-v9', // style: 风格路径，字符串地址，（默认值是 \"mapbox://styles/mapbox/streets-v10\"）\n        //     groundHeight: 150, // groundHeight: 地面高度，取值范围：[0~任意数值]（默认值是0.0）\n        //     renderMode: 0, // renderMode: 渲染模式，0：正常；1：透明；2：标注；3：贴地（默认值是0）\n        //     coordOrder: 0, // coordOrder: 坐标顺序，0: XY; 1: YX（默认值为0）\n        //     maxLevel: 22 // axLevel: WMTS服务最大显示层级，取值范围：[0~22]，默认值：10\n        // },\n    //     () => {\n    //         console.log('设置地图模式完成')\n    //     }\n    // )\n}\n\n// 地铁线路对象\nconst subwayObj: any = {\n    '1': {\n        color: '#efc649',\n        coordinates: []\n    },\n    '2': {\n        color: '#42608b',\n        coordinates: []\n    },\n    '3': {\n        color: '#e89249',\n        coordinates: []\n    },\n    '4': {\n        color: '#336d35',\n        coordinates: []\n    },\n    '5': {\n        color: '#bd2f3f',\n        coordinates: []\n    },\n    '6': {\n        color: '#6a2846',\n        coordinates: []\n    },\n    '8': {\n        color: '#367978',\n        coordinates: []\n    },\n    ax: {\n        color: '#b3ce30',\n        coordinates: []\n    }\n}\n\nexport { initMetroPlanning, cleanMetroPlanning }\n"],"mappings":"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","ignoreList":[]}]}