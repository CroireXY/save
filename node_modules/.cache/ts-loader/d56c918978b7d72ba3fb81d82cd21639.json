{"remainingRequest":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\babel-loader\\lib\\index.js!C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\ts-loader\\index.js??ref--14-2!C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\Views\\home\\WisdomFive\\opers\\metroPlanning.ts","dependencies":[{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\Views\\home\\WisdomFive\\opers\\metroPlanning.ts","mtime":1747001356361},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\babel.config.js","mtime":1747014229538},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747302828451},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\babel-loader\\lib\\index.js","mtime":1747302829587},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\ts-loader\\index.js","mtime":1747302829764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgeyBnZXRNZXRyb0RhdGEgfSBmcm9tICdAL2FwaS9ob21lJzsKaW1wb3J0IHsgaGlkZUFsbFRyZWVJbmZvIH0gZnJvbSAnQC91dGlscy9zaG93T3JIaWRlSW5mb1RyZWUnOwppbXBvcnQgeyB1c2VEaXNwbGF5U3RvcmUgfSBmcm9tICdAL3N0b3Jlcy9kaXNwbGF5JzsKLy8g5Zyw6ZOB56uZ54K55Z2Q5qCHCmNvbnN0IG1ldHJvU3RhdGlvbkFyciA9IFtdOwovLyDnlKjkuo7mmL7npLrpmpDol48KY29uc3Qgc2hNYXJrID0gW107CmNvbnN0IHNoUG9seWxpbmUgPSBbXTsKY29uc3Qgc2hCZWFtID0gW107Ci8qKg0KICog5re75Yqg5Zyw6ZOB56uZbWFyaw0KICovCmNvbnN0IGFkZFN1YndheVN0YXRpb24gPSBhc3luYyBkYXRhID0+IHsKICBjb25zdCBzdGF0aW9uTWFya0FyciA9IFtdOwogIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHsKICAgIGNvbnN0IGl0ZW0gPSBkYXRhW2tleV07CiAgICBpdGVtLmNvb3JkaW5hdGVzLmZvckVhY2goKGNvb3JzLCBpbmRleCkgPT4gewogICAgICBjb29ycy5mb3JFYWNoKGNzID0+IHsKICAgICAgICBjcy5mb3JFYWNoKChjLCBpbmRleCkgPT4gewogICAgICAgICAgY1syXSA9IDA7CiAgICAgICAgICBpZiAoaW5kZXggJSAzMCA8PSAwKSB7CiAgICAgICAgICAgIG1ldHJvU3RhdGlvbkFyci5wdXNoKGMpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0KICBtZXRyb1N0YXRpb25BcnIuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgIC8v5pSv5oyB57uP57qs5bqm5Z2Q5qCH5ZKM5pmu6YCa5oqV5b2x5Z2Q5qCH5Lik56eN57G75Z6LCiAgICBjb25zdCBvID0gewogICAgICBpZDogYFN1YndheVN0YXRpb25fJHtpbmRleH1gLAogICAgICBncm91cElkOiAnbWFya2VyQWRkJywKICAgICAgY29vcmRpbmF0ZTogaXRlbSwKICAgICAgY29vcmRpbmF0ZVR5cGU6IDAsCiAgICAgIGFuY2hvcnM6IFstMTMsIDMwXSwKICAgICAgaW1hZ2VTaXplOiBbMjUsIDMwXSwKICAgICAgaG92ZXJJbWFnZVNpemU6IFs1MCwgNTBdLAogICAgICByYW5nZTogWzEsIDEwMDAwMDBdLAogICAgICBpbWFnZVBhdGg6IGBAcGF0aDrmmbrmhaflub/lt54vY3VzdG9tVGFnL21hcmsvbWFwX3Nwb3RfZGl0aWUucG5nYCwKICAgICAgZml4ZWRTaXplOiB0cnVlLAogICAgICBhdXRvSGVpZ2h0OiBmYWxzZSwKICAgICAgZGlzcGxheU1vZGU6IDIsCiAgICAgIGNsdXN0ZXJCeUltYWdlOiB0cnVlLAogICAgICBwcmlvcml0eTogMCwKICAgICAgb2NjbHVzaW9uQ3VsbDogdHJ1ZSAvL+aYr+WQpuWPguS4jumBruaMoeWJlOmZpAogICAgfTsKICAgIHNoTWFyay5wdXNoKGBTdWJ3YXlTdGF0aW9uXyR7aW5kZXh9YCk7CiAgICBzdGF0aW9uTWFya0Fyci5wdXNoKG8pOwogIH0pOwogIGNvbnN0IHJlcyA9IGF3YWl0IF9fZy5tYXJrZXIuYWRkKHN0YXRpb25NYXJrQXJyKTsKICBpZiAocmVzLnJlc3VsdCkgewogICAgX19nLm1hcmtlci5zaG93KHNoTWFyayk7CiAgfQp9OwovKioNCiAqIOWIkue6vw0KICogQHBhcmFtIGRhdGENCiAqIEBjb25zdHJ1Y3Rvcg0KICovCmNvbnN0IEFkZFBvbHlsaW5lID0gYXN5bmMgZGF0YSA9PiB7CiAgLy/mt7vliqDnm7jlkIzngrnkvY3nmoRwb2x5bGluZeWSjOWFiea1gQogIGNvbnN0IGRhdGFzID0gW107CiAgY29uc3QgYmVhbXMgPSBbXTsKICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7CiAgICBjb25zdCBpdGVtID0gZGF0YVtrZXldOwogICAgaXRlbS5jb29yZGluYXRlcy5mb3JFYWNoKChjb29ycywgaW5kZXgpID0+IHsKICAgICAgY29vcnMuZm9yRWFjaChjcyA9PiB7CiAgICAgICAgY3MuZm9yRWFjaChjID0+IHsKICAgICAgICAgIGNbMl0gPSAwOwogICAgICAgIH0pOwogICAgICAgIGNvbnN0IG9iaiA9IHsKICAgICAgICAgIGlkOiBgbWV0cm9fcG9seUxpbmVfJHtrZXl9XyR7aW5kZXh9YCwKICAgICAgICAgIGNvb3JkaW5hdGVzOiBjcywKICAgICAgICAgIGNvbG9yOiBpdGVtLmNvbG9yLAogICAgICAgICAgc3R5bGU6IDQsCiAgICAgICAgICB0aGlja25lc3M6IDMwLAogICAgICAgICAgaW50ZW5zaXR5OiA4LAogICAgICAgICAgZmxvd1JhdGU6IDAuMiwKICAgICAgICAgIHRpbGluZzogMCwKICAgICAgICAgIHNoYXBlOiAwLAogICAgICAgICAgZGVwdGhUZXN0OiBmYWxzZSwKICAgICAgICAgIGNvb3JkaW5hdGVUeXBlOiAxCiAgICAgICAgfTsKICAgICAgICBjb25zdCBvYmoyID0gewogICAgICAgICAgaWQ6IGBtZXRyb19iZWFtXyR7a2V5fV8ke2luZGV4fWAsCiAgICAgICAgICBjb29yZGluYXRlczogY3MsCiAgICAgICAgICBkdXJhdGlvbjogMywKICAgICAgICAgIHRoaWNrbmVzczogNSwKICAgICAgICAgIGludGVydmFsOiAyLjUsCiAgICAgICAgICB2ZWxvY2l0eTogMC43LAogICAgICAgICAgY29sb3I6IGl0ZW0uY29sb3IgLy/lhYnmtYHnmoTpopzoibIKICAgICAgICB9OwogICAgICAgIHNoUG9seWxpbmUucHVzaChgbWV0cm9fcG9seUxpbmVfJHtrZXl9XyR7aW5kZXh9YCk7CiAgICAgICAgc2hCZWFtLnB1c2goYG1ldHJvX2JlYW1fJHtrZXl9XyR7aW5kZXh9YCk7CiAgICAgICAgZGF0YXMucHVzaChvYmopOwogICAgICAgIGJlYW1zLnB1c2gob2JqMik7CiAgICAgIH0pOwogICAgfSk7CiAgfQogIGNvbnN0IHJlcyA9IGF3YWl0IF9fZy5wb2x5bGluZS5hZGQoZGF0YXMpOwogIGlmIChyZXMucmVzdWx0KSB7CiAgICBfX2cucG9seWxpbmUuc2hvdyhzaFBvbHlsaW5lKTsKICB9CiAgY29uc3QgcmVzMSA9IGF3YWl0IF9fZy5iZWFtLmFkZChiZWFtcyk7CiAgaWYgKHJlczEucmVzdWx0KSB7CiAgICBfX2cuYmVhbS5zaG93KHNoQmVhbSk7CiAgfQp9OwovKioNCiAqIOiOt+WPluWcsOmTgeaVsOaNrg0KICovCmNvbnN0IGFjY2Vzc1RvU3Vid2F5TGluZXMgPSBhc3luYyAoKSA9PiB7CiAgLy8g6YeN572u5Zyw6ZOB5a+56LGh55qE5Z2Q5qCH5pWw57uECiAgZm9yIChjb25zdCBrZXkgaW4gc3Vid2F5T2JqKSB7CiAgICBzdWJ3YXlPYmpba2V5XS5jb29yZGluYXRlcyA9IFtdOwogIH0KICBhd2FpdCBnZXRNZXRyb0RhdGEoKS50aGVuKHJlcyA9PiB7CiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdWJ3YXlPYmopIHsKICAgICAgcmVzLmZlYXR1cmVzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgY29uc3QgcmVnID0gUmVnRXhwKGtleSwgJ2knKTsKICAgICAgICBpZiAocmVnLmV4ZWMoaXRlbS5wcm9wZXJ0aWVzLnB5bmFtZSkpIHsKICAgICAgICAgIHN1YndheU9ialtrZXldLmNvb3JkaW5hdGVzLnB1c2goaXRlbS5nZW9tZXRyeS5jb29yZGluYXRlcyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9KTsKfTsKY29uc3QgZGlzcGxheVN0b3JlID0gdXNlRGlzcGxheVN0b3JlKCk7Ci8qKg0KICog5Yid5aeL5YyW5Zyw6ZOB6KeE5YiSDQogKi8KY29uc3QgaW5pdE1ldHJvUGxhbm5pbmcgPSBhc3luYyAoKSA9PiB7CiAgX19nLmNhbWVyYS5zdG9wQW5pbWF0aW9uKCk7CiAgX19nLmNhbWVyYS5zZXQoNDQwMzk0LjIyNzAzMSwgMjU1ODA3MS4yMTk2MDksIDI3NjY4LjYxNSwgLTcwLjczNDkwOSwgMTc4LjM0MDkxMiwgMSk7CiAgLy8g5byA5ZCv55S15a2Q5Zyw5Zu+CiAgX19nLnNldHRpbmdzLnNldE1hcE1vZGUoMiwgewogICAgLy/lnLDlm77mqKHlvI/nm7jlhbPnmoTlj4LmlbDvvIzlhbfkvZPor7flj4LogINBUEnluK7liqnmlofmoaMKICAgIGNvb3JkVHlwZTogMCwKICAgIHNlcnZpY2VUeXBlOiA0LAogICAgbWFwUG9pbnQ6IFs0MzA4MDkuMTIsIDI1NTY0ODEuNTRdLAogICAgbG9uZ2l0dWRlOiAxMTMuMzI0NTkzLAogICAgbGF0aXR1ZGU6IDIzLjEwNjQwNSwKICAgIHN0eWxlOiAnbWFwYm94Oi8vc3R5bGVzL21hcGJveC9kYXJrLXY5JywKICAgIGdyb3VuZEhlaWdodDogMTUwLAogICAgcmVuZGVyTW9kZTogMCwKICAgIGNvb3JkT3JkZXI6IDAsCiAgICBtYXhMZXZlbDogMjIgLy8gYXhMZXZlbDogV01UU+acjeWKoeacgOWkp+aYvuekuuWxgue6p++8jOWPluWAvOiMg+WbtO+8mlswfjIyXe+8jOm7mOiupOWAvO+8mjEwCiAgfSwgKCkgPT4gewogICAgY29uc29sZS5sb2coJ+iuvue9ruWkp+WcsOWbvuaooeW8j+WujOaIkCcpOwogIH0pOwogIC8vIOmakOiXj+aJgOacieWbvuWxggogIGhpZGVBbGxUcmVlSW5mbygpOwogIGlmIChkaXNwbGF5U3RvcmUuc2hvd01ldHJvUGxhbm5pbmcpIHsKICAgIF9fZy5wb2x5bGluZS5zaG93KHNoUG9seWxpbmUpOwogICAgX19nLmJlYW0uc2hvdyhzaEJlYW0pOwogICAgX19nLm1hcmtlci5zaG93KHNoTWFyayk7CiAgfSBlbHNlIHsKICAgIC8vIOiOt+WPluWcsOmTgeaVsOaNrgogICAgYXdhaXQgYWNjZXNzVG9TdWJ3YXlMaW5lcygpOwogICAgLy8g5YiS57q/CiAgICBhd2FpdCBBZGRQb2x5bGluZShzdWJ3YXlPYmopOwogICAgLy8g5Zyw6ZOB56uZ54K5CiAgICBhd2FpdCBhZGRTdWJ3YXlTdGF0aW9uKHN1YndheU9iaik7CiAgICBkaXNwbGF5U3RvcmUuU2V0U2hvd01ldHJvUGxhbm5pbmcodHJ1ZSk7CiAgfQp9OwovKioNCiAqIOi/mOWOnw0KICovCmNvbnN0IGNsZWFuTWV0cm9QbGFubmluZyA9ICgpID0+IHsKICBfX2cucG9seWxpbmUuaGlkZShzaFBvbHlsaW5lKTsKICBfX2cuYmVhbS5oaWRlKHNoQmVhbSk7CiAgX19nLm1hcmtlci5oaWRlKHNoTWFyayk7CiAgLy8gX19nLnBvbHlsaW5lLmNsZWFyKG51bGwpCiAgLy8gX19nLmJlYW0uY2xlYXIobnVsbCkKICAvLyBfX2cubWFya2VyLmNsZWFyKG51bGwpCiAgLy8g5YWz6Zet55S15a2Q5Zyw5Zu+CiAgX19nLnNldHRpbmdzLnNldE1hcE1vZGUoMCwgewogICAgLy/lnLDlm77mqKHlvI/nm7jlhbPnmoTlj4LmlbDvvIzlhbfkvZPor7flj4LogINBUEnluK7liqnmlofmoaMKICAgIGNvb3JkVHlwZTogMCwKICAgIHNlcnZpY2VUeXBlOiA0LAogICAgbWFwUG9pbnQ6IFs0MzA4MDkuMTIsIDI1NTY0ODEuNTRdLAogICAgbG9uZ2l0dWRlOiAxMTMuMzI0NTkzLAogICAgbGF0aXR1ZGU6IDIzLjEwNjQwNSwKICAgIHN0eWxlOiAnbWFwYm94Oi8vc3R5bGVzL21hcGJveC9kYXJrLXY5JywKICAgIGdyb3VuZEhlaWdodDogMTUwLAogICAgcmVuZGVyTW9kZTogMCwKICAgIGNvb3JkT3JkZXI6IDAsCiAgICBtYXhMZXZlbDogMjIgLy8gYXhMZXZlbDogV01UU+acjeWKoeacgOWkp+aYvuekuuWxgue6p++8jOWPluWAvOiMg+WbtO+8mlswfjIyXe+8jOm7mOiupOWAvO+8mjEwCiAgfSwgKCkgPT4gewogICAgY29uc29sZS5sb2coJ+iuvue9ruWcsOWbvuaooeW8j+WujOaIkCcpOwogIH0pOwp9OwovLyDlnLDpk4Hnur/ot6/lr7nosaEKY29uc3Qgc3Vid2F5T2JqID0gewogICcxJzogewogICAgY29sb3I6ICcjZWZjNjQ5JywKICAgIGNvb3JkaW5hdGVzOiBbXQogIH0sCiAgJzInOiB7CiAgICBjb2xvcjogJyM0MjYwOGInLAogICAgY29vcmRpbmF0ZXM6IFtdCiAgfSwKICAnMyc6IHsKICAgIGNvbG9yOiAnI2U4OTI0OScsCiAgICBjb29yZGluYXRlczogW10KICB9LAogICc0JzogewogICAgY29sb3I6ICcjMzM2ZDM1JywKICAgIGNvb3JkaW5hdGVzOiBbXQogIH0sCiAgJzUnOiB7CiAgICBjb2xvcjogJyNiZDJmM2YnLAogICAgY29vcmRpbmF0ZXM6IFtdCiAgfSwKICAnNic6IHsKICAgIGNvbG9yOiAnIzZhMjg0NicsCiAgICBjb29yZGluYXRlczogW10KICB9LAogICc4JzogewogICAgY29sb3I6ICcjMzY3OTc4JywKICAgIGNvb3JkaW5hdGVzOiBbXQogIH0sCiAgYXg6IHsKICAgIGNvbG9yOiAnI2IzY2UzMCcsCiAgICBjb29yZGluYXRlczogW10KICB9Cn07CmV4cG9ydCB7IGluaXRNZXRyb1BsYW5uaW5nLCBjbGVhbk1ldHJvUGxhbm5pbmcgfTs="},{"version":3,"names":["getMetroData","hideAllTreeInfo","useDisplayStore","metroStationArr","shMark","shPolyline","shBeam","addSubwayStation","data","stationMarkArr","key","item","coordinates","forEach","coors","index","cs","c","push","o","id","groupId","coordinate","coordinateType","anchors","imageSize","hoverImageSize","range","imagePath","fixedSize","autoHeight","displayMode","clusterByImage","priority","occlusionCull","res","__g","marker","add","result","show","AddPolyline","datas","beams","obj","color","style","thickness","intensity","flowRate","tiling","shape","depthTest","obj2","duration","interval","velocity","polyline","res1","beam","accessToSubwayLines","subwayObj","then","features","reg","RegExp","exec","properties","pyname","geometry","displayStore","initMetroPlanning","camera","stopAnimation","set","settings","setMapMode","coordType","serviceType","mapPoint","longitude","latitude","groundHeight","renderMode","coordOrder","maxLevel","console","log","showMetroPlanning","SetShowMetroPlanning","cleanMetroPlanning","hide","ax"],"sources":["C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\Views\\home\\WisdomFive\\opers\\metroPlanning.ts"],"sourcesContent":["import { getMetroData } from '@/api/home'\nimport { hideAllTreeInfo } from '@/utils/showOrHideInfoTree'\nimport { useDisplayStore } from '@/stores/display'\n\n// 地铁站点坐标\nconst metroStationArr: any = []\n// 用于显示隐藏\nconst shMark: any = []\nconst shPolyline: any = []\nconst shBeam: any = []\n/**\n * 添加地铁站mark\n */\nconst addSubwayStation = async (data: any) => {\n    const stationMarkArr: any = []\n    for (const key in data) {\n        const item = data[key]\n        item.coordinates.forEach((coors: any, index: number) => {\n            coors.forEach((cs: any) => {\n                cs.forEach((c: any, index: number) => {\n                    c[2] = 0\n                    if (index % 30 <= 0) {\n                        metroStationArr.push(c)\n                    }\n                })\n            })\n        })\n    }\n    metroStationArr.forEach((item: any, index: number) => {\n        //支持经纬度坐标和普通投影坐标两种类型\n        const o = {\n            id: `SubwayStation_${index}`,\n            groupId: 'markerAdd',\n            coordinate: item, //坐标位置\n            coordinateType: 0, //默认0是投影坐标系，也可以设置为经纬度空间坐标系值为1\n            anchors: [-13, 30], //锚点，设置Marker的整体偏移，取值规则和imageSize设置的宽高有关，图片的左上角会对准标注点的坐标位置。示例设置规则：x=-imageSize.width/2，y=imageSize.height\n            imageSize: [25, 30], //图片的尺寸\n            hoverImageSize: [50, 50], //鼠标悬停时显示的图片尺寸\n            range: [1, 1000000], //可视范围\n            imagePath: `@path:智慧广州/customTag/mark/map_spot_ditie.png`, //显示图片路径\n            fixedSize: true, //图片固定尺寸，取值范围：false 自适应，近大远小，true 固定尺寸，默认值：false\n\n            autoHeight: false, // 自动判断下方是否有物体\n            displayMode: 2, //显示模式\n            clusterByImage: true, // 聚合时是否根据图片路径分类，即当多个marker的imagePath路径参数相同时按路径对marker分类聚合\n            priority: 0, //避让优先级\n            occlusionCull: true //是否参与遮挡剔除\n        }\n        shMark.push(`SubwayStation_${index}`)\n        stationMarkArr.push(o)\n    })\n    const res = await __g.marker.add(stationMarkArr)\n    if (res.result) {\n        __g.marker.show(shMark)\n    }\n}\n\n/**\n * 划线\n * @param data\n * @constructor\n */\nconst AddPolyline = async (data: any) => {\n    //添加相同点位的polyline和光流\n    const datas: any = []\n    const beams: any = []\n    for (const key in data) {\n        const item = data[key]\n        item.coordinates.forEach((coors: any, index: number) => {\n            coors.forEach((cs: any) => {\n                cs.forEach((c: any) => {\n                    c[2] = 0\n                })\n                const obj = {\n                    id: `metro_polyLine_${key}_${index}`, //折线唯一标识id\n                    coordinates: cs, //构成折线的坐标点数组\n                    color: item.color, //折线颜色\n                    style: 4, //折线样式 参考样式枚举：PolylineStyle\n                    thickness: 30, //折线宽度\n                    intensity: 8, //亮度\n                    flowRate: 0.2, //流速\n                    tiling: 0, //材质贴图平铺比例\n                    shape: 0, //折线类型 0：直线， 1：曲线\n                    depthTest: false, //是否做深度检测\n                    coordinateType: 1\n                }\n                const obj2 = {\n                    id: `metro_beam_${key}_${index}`, //折线唯一标识id\n                    coordinates: cs, //构成折线的坐标点数组\n                    duration: 3, //光流粒子的生命周期\n                    thickness: 5, //光流线的宽度比例\n                    interval: 2.5, //光流粒子发射间隔\n                    velocity: 0.7, //光流粒子的速度\n                    color: item.color //光流的颜色\n                }\n                shPolyline.push(`metro_polyLine_${key}_${index}`)\n                shBeam.push(`metro_beam_${key}_${index}`)\n                datas.push(obj)\n                beams.push(obj2)\n            })\n        })\n    }\n    const res = await __g.polyline.add(datas)\n    if (res.result) {\n        __g.polyline.show(shPolyline)\n    }\n    const res1 = await __g.beam.add(beams)\n    if (res1.result) {\n        __g.beam.show(shBeam)\n    }\n}\n\n/**\n * 获取地铁数据\n */\nconst accessToSubwayLines = async () => {\n    // 重置地铁对象的坐标数组\n    for (const key in subwayObj) {\n        subwayObj[key].coordinates = []\n    }\n    await getMetroData().then((res: any) => {\n        for (const key in subwayObj as any) {\n            res.features.forEach((item: any) => {\n                const reg = RegExp(key, 'i')\n                if (reg.exec(item.properties.pyname)) {\n                    subwayObj[key].coordinates.push(item.geometry.coordinates)\n                }\n            })\n        }\n    })\n}\n\nconst displayStore = useDisplayStore()\n/**\n * 初始化地铁规划\n */\nconst initMetroPlanning = async () => {\n    __g.camera.stopAnimation()\n    __g.camera.set(440394.227031, 2558071.219609, 27668.615, -70.734909, 178.340912, 1)\n    // 开启电子地图\n    __g.settings.setMapMode(\n        2,\n        {\n            //地图模式相关的参数，具体请参考API帮助文档\n            coordType: 0, // coordType: 坐标系类型，0：经纬度；1：本地（默认值是0）\n            serviceType: 4, // serviceType: 服务类型，0：MVT矢量切片； 1：WMTS(ArcGis) （默认值是0）\n            mapPoint: [430809.12, 2556481.54], // mapPoint: 同名点，取值范围：[x,y]，（默认值是[0, 0]）\n            longitude: 113.324593, // longitude: 经度，取值范围：[0~180]（默认值是0.0）\n            latitude: 23.106405, // latitude: 纬度，取值范围：[0~90]（默认值是0.0）\n            style: 'mapbox://styles/mapbox/dark-v9', // style: 风格路径，字符串地址，（默认值是 \"mapbox://styles/mapbox/streets-v10\"）\n            groundHeight: 150, // groundHeight: 地面高度，取值范围：[0~任意数值]（默认值是0.0）\n            renderMode: 0, // renderMode: 渲染模式，0：正常；1：透明；2：标注；3：贴地（默认值是0）\n            coordOrder: 0, // coordOrder: 坐标顺序，0: XY; 1: YX（默认值为0）\n            maxLevel: 22 // axLevel: WMTS服务最大显示层级，取值范围：[0~22]，默认值：10\n        },\n        () => {\n            console.log('设置大地图模式完成')\n        }\n    )\n    // 隐藏所有图层\n    hideAllTreeInfo()\n    if (displayStore.showMetroPlanning) {\n        __g.polyline.show(shPolyline)\n        __g.beam.show(shBeam)\n        __g.marker.show(shMark)\n    } else {\n        // 获取地铁数据\n        await accessToSubwayLines()\n        // 划线\n        await AddPolyline(subwayObj)\n        // 地铁站点\n        await addSubwayStation(subwayObj)\n        displayStore.SetShowMetroPlanning(true)\n    }\n}\n\n/**\n * 还原\n */\nconst cleanMetroPlanning = () => {\n    __g.polyline.hide(shPolyline)\n    __g.beam.hide(shBeam)\n    __g.marker.hide(shMark)\n\n    // __g.polyline.clear(null)\n    // __g.beam.clear(null)\n    // __g.marker.clear(null)\n    // 关闭电子地图\n    __g.settings.setMapMode(\n        0,\n        {\n            //地图模式相关的参数，具体请参考API帮助文档\n            coordType: 0, // coordType: 坐标系类型，0：经纬度；1：本地（默认值是0）\n            serviceType: 4, // serviceType: 服务类型，0：MVT矢量切片； 1：WMTS(ArcGis) （默认值是0）\n            mapPoint: [430809.12, 2556481.54], // mapPoint: 同名点，取值范围：[x,y]，（默认值是[0, 0]）\n            longitude: 113.324593, // longitude: 经度，取值范围：[0~180]（默认值是0.0）\n            latitude: 23.106405, // latitude: 纬度，取值范围：[0~90]（默认值是0.0）\n            style: 'mapbox://styles/mapbox/dark-v9', // style: 风格路径，字符串地址，（默认值是 \"mapbox://styles/mapbox/streets-v10\"）\n            groundHeight: 150, // groundHeight: 地面高度，取值范围：[0~任意数值]（默认值是0.0）\n            renderMode: 0, // renderMode: 渲染模式，0：正常；1：透明；2：标注；3：贴地（默认值是0）\n            coordOrder: 0, // coordOrder: 坐标顺序，0: XY; 1: YX（默认值为0）\n            maxLevel: 22 // axLevel: WMTS服务最大显示层级，取值范围：[0~22]，默认值：10\n        },\n        () => {\n            console.log('设置地图模式完成')\n        }\n    )\n}\n\n// 地铁线路对象\nconst subwayObj: any = {\n    '1': {\n        color: '#efc649',\n        coordinates: []\n    },\n    '2': {\n        color: '#42608b',\n        coordinates: []\n    },\n    '3': {\n        color: '#e89249',\n        coordinates: []\n    },\n    '4': {\n        color: '#336d35',\n        coordinates: []\n    },\n    '5': {\n        color: '#bd2f3f',\n        coordinates: []\n    },\n    '6': {\n        color: '#6a2846',\n        coordinates: []\n    },\n    '8': {\n        color: '#367978',\n        coordinates: []\n    },\n    ax: {\n        color: '#b3ce30',\n        coordinates: []\n    }\n}\n\nexport { initMetroPlanning, cleanMetroPlanning }\n"],"mappings":"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","ignoreList":[]}]}