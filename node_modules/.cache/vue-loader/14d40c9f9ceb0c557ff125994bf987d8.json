{"remainingRequest":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\Map-3d.vue?vue&type=template&id=38de41d2&scoped=true","dependencies":[{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\Map-3d.vue","mtime":1747696734413},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747302828451},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\babel-loader\\lib\\index.js","mtime":1747302829587},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1747302830655},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747302828451},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1747302829861}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgaWQ9Im1hcDNkIj48L2Rpdj4NCg=="},{"version":3,"sources":["C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\Map-3d.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Program Files/TaiChiWorkSpace/数字孪生—智慧广州/code/src/components/Map-3d.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div id=\"map3d\"></div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted } from 'vue'\r\nimport qtLoader from '/public/assets/loader.js'\r\nimport SSWebChannel from '/public/SSWebChannel'\r\n\r\nconst emit = defineEmits(['init'])\r\n\r\nonMounted(() => {\r\n  const platform = getPlatform()\r\n  load(platform)\r\n})\r\n\r\n// 获取当前运行平台\r\nconst getPlatform = () => {\r\n\tconst ua = window.navigator.userAgent\r\n\tconst reg = /QtWebEngine/g\r\n\treturn reg.test(ua) ? 'windows' : 'web'\r\n}\r\n\r\nconst load = (platform) => {\r\n  const el = document.getElementById('map3d')\r\n  const fn = {\r\n\t\twindows: (el) => windows(el),\r\n\t\tweb: (el) => web(el),\r\n\t}\r\n\tfn[platform] && fn[platform](el)\r\n}\r\n\r\n// windows 处理\r\nconst windows = (el) => {\r\n\tnew SSWebChannel(el, (channel) => {\r\n\t\tchannel.importModule('@/native/main.js', 'Native', () => {\r\n\t\t\tinit()\r\n\t\t})\r\n\t})\r\n}\r\n\r\n// web 处理\r\nconst web = async (el) => {\r\n\tconst [SSmap, GlobalViewer] = await qtLoader({ el })\r\n\twindow.SSmap = SSmap\r\n\twindow.viewer = GlobalViewer\r\n\twindow.Native = await import('/public/native/main.js')\r\n\tinit()\r\n}\r\n\r\nconst init = () => {\r\n  emit('init')\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#map3d {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n"]}]}