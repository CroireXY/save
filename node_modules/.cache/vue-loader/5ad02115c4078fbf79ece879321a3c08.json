{"remainingRequest":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\tools\\weather.vue?vue&type=template&id=330bd040&scoped=true&ts=true","dependencies":[{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\tools\\weather.vue","mtime":1747001553963},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747302828451},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\babel-loader\\lib\\index.js","mtime":1747302829587},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\ts-loader\\index.js","mtime":1747302829764},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1747302830655},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747302828451},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1747302829861}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0id2VhdGhlciI+CiAgICA8YS1kaXZpZGVyCiAgICAgIG9yaWVudGF0aW9uPSJsZWZ0IgogICAgICBzdHlsZT0iYm9yZGVyLWNvbG9yOiAjZGRkOyBjb2xvcjogI2ZmZiIKICAgICAgZGFzaGVkCiAgICA+CiAgICAgIOWkqeawlDwvYS1kaXZpZGVyCiAgICA+CiAgICA8ZGl2IGNsYXNzPSJ3ZWF0aGVydHlwZSI+CiAgICAgIDxkaXYKICAgICAgICBAY2xpY2s9IldlYXRoZXJDbGljayhpdGVtKSIKICAgICAgICBjbGFzcz0idHlwZSIKICAgICAgICB2LWZvcj0iaXRlbSBpbiBXZWF0aGVyVHlwZSIKICAgICAgICA6a2V5PSJpdGVtLm5hbWUiCiAgICAgID4KICAgICAgICA8aW1nIDpzcmM9Iml0ZW0uaWNvbiIgYWx0PSIiIC8+CiAgICAgICAge3sgaXRlbS5uYW1lIH19CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8YS1kaXZpZGVyIG9yaWVudGF0aW9uPSJsZWZ0IiBzdHlsZT0iYm9yZGVyLWNvbG9yOiAjZGRkOyBjb2xvcjogI2ZmZiIgZGFzaGVkCiAgICAgID7ml7bpl7Q8L2EtZGl2aWRlcgogICAgPgogICAgPGRpdiBjbGFzcz0id2VhdGhlcnR5cGUiPgogICAgICA8ZGl2CiAgICAgICAgY2xhc3M9InR5cGUiCiAgICAgICAgQGNsaWNrPSJUaW1lVHlwZUNsaWNrKGl0ZW0pIgogICAgICAgIHYtZm9yPSJpdGVtIGluIFRpbWVUeXBlIgogICAgICAgIDprZXk9Iml0ZW0ubmFtZSIKICAgICAgPgogICAgICAgIDxpbWcgOnNyYz0iaXRlbS5pY29uIiBhbHQ9IiIgLz4KICAgICAgICB7eyBpdGVtLm5hbWUgfX0KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9Im9wZW4tZGFyayI+CiAgICAgIDxkaXYgY2xhc3M9ImRhcmstaXRlbSI+CiAgICAgICAgPHNwYW4+6buR5pqX5qih5byPOjwvc3Bhbj4KICAgICAgICA8ZWwtc3dpdGNoIHYtbW9kZWw9ImlzRGFyayIgQGNoYW5nZT0iY2hhbmdlRGFya01vZGUiIGNsYXNzPSJtbC0yIiBzdHlsZT0iLS1lbC1zd2l0Y2gtb24tY29sb3I6ICMwYzBjMGM7IC0tZWwtc3dpdGNoLW9mZi1jb2xvcjogI2NjYyIgLz4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImRhcmstaXRlbSI+CiAgICAgICAgPHNwYW4+VUnmmL7pmpA6PC9zcGFuPgogICAgICAgIDxlbC1zd2l0Y2ggdi1tb2RlbD0iaXNTaG93TWFwIiBAY2hhbmdlPSJjaGFuZ2VTaG93TWFwIiBjbGFzcz0ibWwtMiIgc3R5bGU9Ii0tZWwtc3dpdGNoLW9uLWNvbG9yOiAjMGMwYzBjOyAtLWVsLXN3aXRjaC1vZmYtY29sb3I6ICNjY2MiIC8+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\tools\\weather.vue"],"names":[],"mappings":"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,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MAC1I,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Program Files/TaiChiWorkSpace/数字孪生—智慧广州/code/src/components/tools/weather.vue","sourceRoot":"","sourcesContent":["<!--\n * @Author: your name\n * @Date: 2022-04-01 20:58:53\n * @LastEditTime: 2022-05-30 10:42:23\n * @LastEditors: 张祥 17839092765@163.com\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n * @FilePath: \\DTSWEEKLY_ZHGK\\src\\components\\tools\\weather.vue\n-->\n<!-- weather -->\n<template>\n  <div class=\"weather\">\n    <a-divider\n      orientation=\"left\"\n      style=\"border-color: #ddd; color: #fff\"\n      dashed\n    >\n      天气</a-divider\n    >\n    <div class=\"weathertype\">\n      <div\n        @click=\"WeatherClick(item)\"\n        class=\"type\"\n        v-for=\"item in WeatherType\"\n        :key=\"item.name\"\n      >\n        <img :src=\"item.icon\" alt=\"\" />\n        {{ item.name }}\n      </div>\n    </div>\n    <a-divider orientation=\"left\" style=\"border-color: #ddd; color: #fff\" dashed\n      >时间</a-divider\n    >\n    <div class=\"weathertype\">\n      <div\n        class=\"type\"\n        @click=\"TimeTypeClick(item)\"\n        v-for=\"item in TimeType\"\n        :key=\"item.name\"\n      >\n        <img :src=\"item.icon\" alt=\"\" />\n        {{ item.name }}\n      </div>\n    </div>\n    <div class=\"open-dark\">\n      <div class=\"dark-item\">\n        <span>黑暗模式:</span>\n        <el-switch v-model=\"isDark\" @change=\"changeDarkMode\" class=\"ml-2\" style=\"--el-switch-on-color: #0c0c0c; --el-switch-off-color: #ccc\" />\n      </div>\n      <div class=\"dark-item\">\n        <span>UI显隐:</span>\n        <el-switch v-model=\"isShowMap\" @change=\"changeShowMap\" class=\"ml-2\" style=\"--el-switch-on-color: #0c0c0c; --el-switch-off-color: #ccc\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useAirCityStore } from \"@/stores/aircity\";\nimport { useToolsStore } from \"@/stores/tools\";\n\nimport { onMounted, onUnmounted, ref } from \"vue\";\nimport { toTree } from \"./layerTree\";\nconst AirCityStore: any = useAirCityStore();\nconst ToolsStore: any = useToolsStore();\n\nconst isDark = ref(false)\nconst isShowMap = ref(false)\n/**\n * 开启/关闭黑暗模式\n * @param val\n */\nconst changeDarkMode = (val: boolean) => {\n  __g.weather.setDarkMode(val)\n}\n/**\n * 开启/关闭电子地图\n * @param val\n */\nconst changeShowMap = (val: boolean) => {\n  __g.settings.setMainUIVisibility(val)\n}\n\nconst isHideFlag = ref(false);\nconst shuaxin = async () => {\n  const res: any = await __g.infoTree.get();\n  await AirCityStore.SetTreeInfo(res.infotree);\n  await ToolsStore.Setinfotree(toTree(res.infotree));\n};\nconst HuanjingId = ref();\n\n//\nconst WeatherType = ref([\n  {\n    name: \"晴天\",\n    icon: require(\"./img/晴天.png\"),\n  },\n  {\n    name: \"多云\",\n    icon: require(\"./img/多云.png\"),\n  },\n  {\n    name: \"下雨\",\n    icon: require(\"./img/下雨.png\"),\n  },\n  {\n    name: \"下雪\",\n    icon: require(\"./img/下雪.png\"),\n  },\n]);\nconst WeatherClick = (val: any) => {\n  switch (val.name) {\n    case \"晴天\":\n      // 禁用雨雪效果;\n      __g.weather.disableRainSnow();\n      __g.weather.setCloudDensity(0.1);\n\n      break;\n    case \"多云\":\n      // 禁用雨雪效果;\n      __g.weather.disableRainSnow();\n      //  设置云层密度\n      __g.weather.setCloudDensity(1);\n      //  设置云层厚度\n      __g.weather.setCloudThickness(2);\n      //  云层高度单位：公里\n      __g.weather.setCloudHeight(2);\n\n      break;\n    case \"下雨\":\n      //设置云层厚度\n      __g.weather.setCloudThickness(2);\n      //设置完云层厚度后才能开启雨效\n      __g.weather.setRainParam(1, 1, 0.5);\n\n      break;\n    case \"下雪\":\n      //设置云层厚度\n      __g.weather.setCloudThickness(2);\n      //设置完云层厚度后才能开启雪效\n      __g.weather.setSnowParam(1, 1, 0.5);\n\n      break;\n\n    default:\n      break;\n  }\n};\nconst TimeType = ref([\n  {\n    name: \"早晨\",\n    icon: require(\"./img/早晨.png\"),\n  },\n  {\n    name: \"中午\",\n    icon: require(\"./img/中午.png\"),\n  },\n  {\n    name: \"傍晚\",\n    icon: require(\"./img/傍晚.png\"),\n  },\n  {\n    name: \"夜晚\",\n    icon: require(\"./img/夜晚.png\"),\n  },\n]);\nconst TimeTypeClick = (val: any) => {\n  console.log(val);\n  switch (val.name) {\n    case \"早晨\":\n      __g.weather.setDateTime(2022, 4, 2, 8, 8, false);\n      break;\n    case \"中午\":\n      __g.weather.setDateTime(2022, 4, 2, 14, 8, false);\n\n      break;\n    case \"傍晚\":\n      __g.weather.setDateTime(2022, 4, 2, 18, 8, false);\n\n      break;\n    case \"夜晚\":\n      __g.weather.setDateTime(2022, 4, 2, 24, 8, false);\n\n      break;\n\n    default:\n      break;\n  }\n};\nonMounted(() => {\n  AirCityStore.$state.TreeInfo.forEach((item: any) => {\n    if (item.name === \"环境\") {\n      HuanjingId.value = item.iD;\n    }\n  });\n});\nonUnmounted(() => {\n  // __g.infoTree.show(HuanjingId.value);\n  isHideFlag.value = false;\n  // __g.weather.setAmbientLightIntensity(0);\n  // 刷新图层树仓库\n  shuaxin();\n});\n</script>\n<style lang=\"scss\" scoped>\n.weather {\n  position: absolute;\n  @include Width(400);\n  @include hHeight(300);\n  @include Top(130);\n  @include Right(200);\n  @include Padding(10, 10, 10, 10);\n  border-radius: 2%;\n  margin: auto;\n  overflow-y: auto;\n  overflow-x: hidden;\n  z-index: 10;\n  background: rgb(28, 39, 52);\n  .tip {\n    @include FontSize(12);\n    .colsehuanjing {\n      @include Padding(3.5, 2, 5, 2);\n\n      cursor: pointer;\n      &:hover {\n        color: aqua;\n      }\n    }\n    // color: aqua;\n  }\n  .weathertype {\n    width: 100%;\n    @include m-FontSize(8);\n    @include hHeight(50);\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    .type {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      @include Padding(10, 15, 10, 15);\n      cursor: pointer;\n      img {\n        display: inline-block;\n\n        @include MarginBottom(7);\n        @include Width(20);\n      }\n      &:hover {\n        background: rgba(0, 0, 0, 0.24);\n      }\n    }\n  }\n  .open-dark {\n    @include m-FontSize(8);\n    margin-top: 16px;\n    display: flex;\n    justify-content: flex-start;\n    .dark-item {\n      display: flex;\n      align-items: center;\n      margin-right: 20px;\n      span {\n        margin-right: 10px;\n      }\n    }\n  }\n}\n</style>\n"]}]}