{"remainingRequest":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\V3Echarts\\index.vue?vue&type=template&id=3aa0ee00&scoped=true&ts=true","dependencies":[{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\V3Echarts\\index.vue","mtime":1747001722428},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747302828451},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\babel-loader\\lib\\index.js","mtime":1747302829587},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\ts-loader\\index.js","mtime":1747302829764},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1747302830655},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747302828451},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1747302829861}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iY29udGFpbmVyIiA6aWQ9ImNvbnRhaW5lciIgcmVmPSJjaGFydFJlZiI+PC9kaXY+Cg=="},{"version":3,"sources":["C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\V3Echarts\\index.vue"],"names":[],"mappings":";EASE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Program Files/TaiChiWorkSpace/数字孪生—智慧广州/code/src/components/V3Echarts/index.vue","sourceRoot":"","sourcesContent":["<!--\n * @Author: your name\n * @Date: 2022-02-25 05:56:18\n * @LastEditTime: 2022-05-31 18:28:32\n * @LastEditors: 张祥 17839092765@163.com\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n * @FilePath: \\DTSWeekly_zhyq\\src\\components\\V3Echarts\\index.vue\n-->\n<template>\n  <div class=\"container\" :id=\"container\" ref=\"chartRef\"></div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n  markRaw,\n  nextTick,\n  onMounted,\n  onUnmounted,\n  reactive,\n  ref,\n  watch,\n} from \"vue\";\nimport * as charts from \"echarts\";\n// export default defineComponent({\nconst props = defineProps({\n  options: {\n    type: Object,\n    require: true,\n  },\n  width: {\n    type: Number,\n    require: false,\n  },\n  height: {\n    type: Number,\n    default: 200,\n  },\n  top: {\n    type: Number,\n    default: 0,\n  },\n  isFirst: {\n    type: Boolean,\n    default: false,\n  },\n  container: {\n    type: String,\n    default: \"container\",\n  },\n});\nconst chartRef = ref();\nconst Aecharts: any = reactive({ value: \"\" });\n\nonMounted(() => {\n  // setInterval(() => {\n  //   let op = reactive({ value: document.getElementById(props.container) });\n  //   if (op.value) {\n  //     Aecharts.value = markRaw(charts.init(op.value));\n  //   }\n  //   Aecharts.value.setOption(props.options);\n  //   console.log(\"changes\");\n  //   console.log(props.options);\n  // }, 5000);\n});\n\nconst changeEcharts = (options: any) => {\n  Aecharts.value.setOption(options);\n  if (props.isFirst) {\n    let index = 0;\n    Aecharts.value.dispatchAction({\n      type: \"highlight\",\n      seriesIndex: 0,\n      dataIndex: 0,\n    });\n    Aecharts.value.on(\"mouseover\", (e: any) => {\n      if (e.dataIndex !== index) {\n        Aecharts.value.dispatchAction({\n          type: \"downplay\",\n          seriesIndex: 0,\n          dataIndex: index,\n        });\n      } else {\n        Aecharts.value.dispatchAction({\n          type: \"highlight\",\n          seriesIndex: 0,\n          dataIndex: e.dataIndex,\n        });\n      }\n    });\n    Aecharts.value.on(\"mouseout\", (e: any) => {\n      index = e.dataIndex;\n      Aecharts.value.dispatchAction({\n        type: \"highlight\",\n        seriesIndex: 0,\n        dataIndex: e.dataIndex,\n      });\n    });\n  }\n};\n\nwatch(\n  () => props.options,\n  (newval) => {\n    changeEcharts(newval);\n  },\n  {\n    deep: true,\n  }\n);\n\nwatch(\n  () => props.container,\n  (newval) => {\n    nextTick(() => {\n      if (chartRef.value) {\n        Aecharts.value = markRaw(charts.init(chartRef.value));\n      }\n      changeEcharts(props.options);\n    });\n  },\n  {\n    // deep: true,\n    immediate: true,\n  }\n);\nconst Resize = () => {\n  console.log(Aecharts.value, \"Aechartsresize\");\n  Aecharts.value.resize();\n};\n\nonMounted(() => {\n  window.addEventListener(\"resize\", Resize);\n});\nonUnmounted(() => {\n  window.removeEventListener(\"resize\", Resize);\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  @include boxWidth(v-bind(\"props.width\"));\n\n  @include boxhHeight(v-bind(\"props.height\"));\n\n  @include boxMarginTop(v-bind(\"props.top\"));\n  //   background: #000;\n  @include BorderRadius(8);\n}\n</style>\n"]}]}