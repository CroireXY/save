{"remainingRequest":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\map\\map.vue?vue&type=style&index=0&id=49cee7c9&scoped=true&lang=css","dependencies":[{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\map\\map.vue","mtime":1747389282060},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\css-loader\\dist\\cjs.js","mtime":1747302828972},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1747302830614},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\postcss-loader\\src\\index.js","mtime":1747302829585},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747302828451},{"path":"C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1747302829861}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgpodG1sLApib2R5LAojY2VzaXVtQ29udGFpbmVyIHsKICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHotaW5kZXg6IDE7CgogICAgLmxvYWRpbmcgewogICAgICAgIEBpbmNsdWRlIFdpZHRoKDUwKTsKICAgICAgICBAaW5jbHVkZSBoSGVpZ2h0KDUwKTsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgdG9wOiAwOwogICAgICAgIGxlZnQ6IDA7CiAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgYm90dG9tOiAwOwogICAgICAgIG1hcmdpbjogYXV0bzsKICAgICAgICBAaW5jbHVkZSBGb250U2l6ZSg0MCk7CiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKCiAgICAgICAgOmRlZXAoLmVsLWxvYWRpbmctbWFzaykgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDApICFpbXBvcnRhbnQ7CgogICAgICAgICAgICAuY2lyY3VsYXIgewogICAgICAgICAgICAgICAgQGluY2x1ZGUgV2lkdGgoNTApOwogICAgICAgICAgICAgICAgQGluY2x1ZGUgaEhlaWdodCg1MCk7CgogICAgICAgICAgICAgICAgLnBhdGggewogICAgICAgICAgICAgICAgICAgIHN0cm9rZTogcmdiKDMyLCAxNTgsIDIxNik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KYnV0dG9uIHsKICBmb250LWZhbWlseTogIlJvYm90byIsICItYXBwbGUtc3lzdGVtIiwgIkhlbHZldGljYSBOZXVlIiwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICBjb2xvcjogIzFGODc5QzsKICBib3JkZXItY29sb3I6ICMxRjg3OUM7CiAgYm9yZGVyLXJhZGl1czogM3B4OwogIHBhZGRpbmc6IDRweCA4cHg7CiAgbWFyZ2luOiAxMHB4IDBweCAwcHggMTBweDsKICB6LWluZGV4OiA5OTk7CiAgcG9zaXRpb246IGZpeGVkOwogIGN1cnNvcjogcG9pbnRlcjsKfQpidXR0b24uc3RvcHBlZDphZnRlcgp7CiAgY29udGVudDogJ1wyNUI2XDAwMjAgRmx5IFRocm91Z2gnOwp9CmJ1dHRvbi5wbGF5aW5nCnsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMUY4NzlDOwogIGNvbG9yOiB3aGl0ZTsKfQpidXR0b24ucGxheWluZzphZnRlcgp7CiAgY29udGVudDogJ1wyNUZDXDAwMjAgRmx5IFRocm91Z2gnOwp9CiAgICAgICAgICAK"},{"version":3,"sources":["C:\\Program Files\\TaiChiWorkSpace\\数字孪生—智慧广州\\code\\src\\components\\map\\map.vue"],"names":[],"mappings":"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","file":"C:/Program Files/TaiChiWorkSpace/数字孪生—智慧广州/code/src/components/map/map.vue","sourceRoot":"","sourcesContent":["<!-- 加载视频流组件 -->\n<template>\n    <div>\n       <div id=\"cesiumContainer\"></div>\n\n        <div id=\"credit\" style=\"display:none\"></div>\n   \n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport * as Cesium from 'cesium';\nimport '../../Widgets/widgets.css'\nimport { onMounted } from 'vue';\n// 设置cesium的静态资源路径\nwindow.CESIUM_BASE_URL = '/cesium'\nonMounted(()=>{\nconst basemapProvider = new Cesium.UrlTemplateImageryProvider({\n  url: 'https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/imagery/WGS84/{z}/{x}/{y}.png',\n  credit: \"© Map from Lands Department\"\n});\nCesium.Ion.defaultAccessToken='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIxMTZmYTNlZi02NzU2LTQ3MTYtYWUwYS03NWRmNzllZTk5YWUiLCJpZCI6MzAzMDI1LCJpYXQiOjE3NDczODg0NTN9.paeLe2jzSEv9-YXWxw-m9hNcJHoTNQJrSZKZDkLXYF0';\nconst viewer = new Cesium.Viewer('cesiumContainer', {\n  baseLayer: new Cesium.ImageryLayer(basemapProvider),\n  baseLayerPicker: false,\n  timeline: false,\n  animation: false,\n  vrButton: false,\n  fullscreenButton: false,\n  homeButton: false,\n  navigationHelpButton: false,\n  geocoder: false,\n  sceneModePicker: false,\n  requestRenderMode: true,\n  creditContainer: \"credit\",\n});\n\nconst addLayer = async() =>{\n  let tileset = await Cesium.Cesium3DTileset.fromUrl(\n    'https://data.map.gov.hk/api/3d-data/3dtiles/f2/tileset.json?key=3967f8f365694e0798af3e7678509421'\n  );\n  viewer.scene.primitives.add(tileset);\n}\n\naddLayer();\n\nviewer.camera.flyTo({\n  destination: Cesium.Cartesian3.fromDegrees(\n    // 纬度\n    114.130451,\n    // 经度\n    22.261095,\n    // 高度\n   500\n  ),\n  orientation: {\n    heading: 6.280194717481077,\n    pitch: -0.7921019105734031,\n    roll: 6.283182074536001,\n  },\n  duration: 0,\n});\n\nfunction flyThrough() {\n  const currentState = 'stopped' === document.getElementById(\"fly\").className ? 'playing' : 'stopped';\n  document.getElementById(\"fly\").className = currentState;\n  viewer.scene.screenSpaceCameraController.enableInputs = false;\n  if('playing' === currentState) {\n    viewer.camera.flyTo({\n      destination: {\n        x: -2422424.2445589276,\n        y: 5384032.397876303,\n        z: 2405707.0615597237\n      },\n      orientation: {\n        heading: 5.6200000366324705,\n        pitch: -0.32032049944881735,\n        roll: 6.283175543034232\n      },\n      complete: function() {\n        const distance = Cesium.Cartesian3.distance(\n          new Cesium.Cartesian3.fromDegrees(114.214374, 22.315202),\n          new Cesium.Cartesian3.fromDegrees(114.22428750237164, 22.304629162175697)\n        );\n        const startTime = Cesium.JulianDate.fromDate(new Date());\n        const stopTime = Cesium.JulianDate.addSeconds(\n          startTime,\n          distance,\n          new Cesium.JulianDate()\n        );\n        const property = new Cesium.SampledPositionProperty();\n        let time = Cesium.JulianDate.addSeconds(\n          startTime,\n          0,\n          new Cesium.JulianDate()\n        );\n        let position = Cesium.Cartesian3.fromDegrees(\n          114.22428750237164,\n          22.304629162175697,\n          132.02238802935133\n        );\n        property.addSample(time, position);\n        time = Cesium.JulianDate.addSeconds(\n          startTime,\n          distance,\n          new Cesium.JulianDate()\n        );\n        position = Cesium.Cartesian3.fromDegrees(\n          114.214374,\n          22.315202,\n          132.02238802935133\n        );\n        property.addSample(time, position);\n        let entity = {\n          availability: new Cesium.TimeIntervalCollection([\n            new Cesium.TimeInterval({\n              start: startTime,\n              stop: stopTime,\n            }),\n          ]),\n          position: property,\n        };\n        entity.position.setInterpolationOptions({\n          interpolationDegree: 2,\n          interpolationAlgorithm: Cesium.HermitePolynomialApproximation,\n        });\n\n        viewer.clock.startTime = startTime.clone();\n        viewer.clock.stopTime = stopTime.clone();\n        viewer.clock.currentTime = startTime.clone();\n        viewer.clock.clockRange = Cesium.ClockRange.LOOP_STOP;\n        viewer.clock.multiplier = 50;\n        viewer.clock.shouldAnimate = true;\n        viewer.camera.position = new Cesium.Cartesian3(0.25, 0, 5);\n        viewer.camera.direction = new Cesium.Cartesian3(-1.25, 1.6, -0.6725);\n        viewer.camera.up = new Cesium.Cartesian3(0.0, 0.0, 1.0);\n        viewer.camera.right = new Cesium.Cartesian3(0.0, -1.0, 0.0);\n\n        viewer.scene.postUpdate.addEventListener(function (scene, time) {\n          if(viewer.clock.shouldAnimate) {\n            viewer.scene.screenSpaceCameraController.enableInputs = false;\n            const position = entity.position.getValue(time);\n            if (!Cesium.defined(position)) {\n              return;\n            }\n            let transform;\n            if (!Cesium.defined(entity.orientation)) {\n              transform = Cesium.Transforms.eastNorthUpToFixedFrame(position);\n            }\n            const offset = Cesium.Cartesian3.clone(viewer.camera.position);\n            const direction = Cesium.Cartesian3.clone(viewer.camera.direction);\n            const up = Cesium.Cartesian3.clone(viewer.camera.up);\n            viewer.camera.lookAtTransform(transform);\n            Cesium.Cartesian3.clone(offset, viewer.camera.position);\n            Cesium.Cartesian3.clone(direction, viewer.camera.direction);\n            Cesium.Cartesian3.clone(up, viewer.camera.up);\n            Cesium.Cartesian3.cross(direction, up, viewer.camera.right);\n          } else {\n            viewer.scene.postUpdate._listeners.pop();\n            viewer.entities.remove(entity);\n            viewer.clock.clockRange = 0;\n            viewer.clock.multiplier = 1;\n            viewer.clock.currentTime = Cesium.JulianDate.fromDate(new Date());\n            viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);\n            viewer.camera.flyTo({\n              destination: Cesium.Cartesian3.fromDegrees(\n                114.21918297929119,\n                22.237495624660887,\n                4999.9999999995025\n              ),\n              orientation: {\n                heading: 6.283185307179586,\n                pitch: -0.5251224807670001,\n                roll: 6.283185307179585,\n              }\n            });\n          }\n        })\n      }\n    })\n  } else {\n    viewer.clock.shouldAnimate = false;\n    viewer.scene.screenSpaceCameraController.enableInputs = true;\n  }\n}\n})\n</script>\n\n<style  scoped>\n\nhtml,\nbody,\n#cesiumContainer {\n  width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1;\n\n    .loading {\n        @include Width(50);\n        @include hHeight(50);\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        margin: auto;\n        @include FontSize(40);\n        font-weight: 600;\n\n        :deep(.el-loading-mask) {\n            background: rgba(0, 0, 0, 0) !important;\n\n            .circular {\n                @include Width(50);\n                @include hHeight(50);\n\n                .path {\n                    stroke: rgb(32, 158, 216);\n                }\n            }\n        }\n    }\n}\nbutton {\n  font-family: \"Roboto\", \"-apple-system\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  background-color: white;\n  color: #1F879C;\n  border-color: #1F879C;\n  border-radius: 3px;\n  padding: 4px 8px;\n  margin: 10px 0px 0px 10px;\n  z-index: 999;\n  position: fixed;\n  cursor: pointer;\n}\nbutton.stopped:after\n{\n  content: '\\25B6\\0020 Fly Through';\n}\nbutton.playing\n{\n  background-color: #1F879C;\n  color: white;\n}\nbutton.playing:after\n{\n  content: '\\25FC\\0020 Fly Through';\n}\n          \n</style>\n"]}]}