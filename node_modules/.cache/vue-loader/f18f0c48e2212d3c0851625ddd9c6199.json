{"remainingRequest":"C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\src\\components\\map\\map.vue?vue&type=style&index=0&id=49cee7c9&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\src\\components\\map\\map.vue","mtime":1748402418100},{"path":"C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\node_modules\\css-loader\\dist\\cjs.js","mtime":1747302828972},{"path":"C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1747302830614},{"path":"C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\node_modules\\postcss-loader\\src\\index.js","mtime":1747302829585},{"path":"C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747302828451},{"path":"C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1747302829861}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cmh0bWwsCmJvZHksCiNjZXNpdW1Db250YWluZXIgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgei1pbmRleDogMTsKCiAgLmxvYWRpbmcgewogICAgQGluY2x1ZGUgV2lkdGgoNTApOwogICAgQGluY2x1ZGUgaEhlaWdodCg1MCk7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgcmlnaHQ6IDA7CiAgICBib3R0b206IDA7CiAgICBtYXJnaW46IGF1dG87CiAgICBAaW5jbHVkZSBGb250U2l6ZSg0MCk7CiAgICBmb250LXdlaWdodDogNjAwOwoKICAgIDpkZWVwKC5lbC1sb2FkaW5nLW1hc2spIHsKICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwKSAhaW1wb3J0YW50OwoKICAgICAgLmNpcmN1bGFyIHsKICAgICAgICBAaW5jbHVkZSBXaWR0aCg1MCk7CiAgICAgICAgQGluY2x1ZGUgaEhlaWdodCg1MCk7CgogICAgICAgIC5wYXRoIHsKICAgICAgICAgIHN0cm9rZTogcmdiKDMyLCAxNTgsIDIxNik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9CmJ1dHRvbiB7CiAgZm9udC1mYW1pbHk6ICJSb2JvdG8iLCAiLWFwcGxlLXN5c3RlbSIsICJIZWx2ZXRpY2EgTmV1ZSIsIEhlbHZldGljYSwgQXJpYWwsCiAgICBzYW5zLXNlcmlmOwogIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogIGNvbG9yOiAjMWY4NzljOwogIGJvcmRlci1jb2xvcjogIzFmODc5YzsKICBib3JkZXItcmFkaXVzOiAzcHg7CiAgcGFkZGluZzogNHB4IDhweDsKICBtYXJnaW46IDEwcHggMHB4IDBweCAxMHB4OwogIHotaW5kZXg6IDk5OTsKICBwb3NpdGlvbjogZml4ZWQ7CiAgY3Vyc29yOiBwb2ludGVyOwp9CmJ1dHRvbi5zdG9wcGVkOmFmdGVyIHsKICBjb250ZW50OiAiXDI1QjZcMDAyMCBGbHkgVGhyb3VnaCI7Cn0KYnV0dG9uLnBsYXlpbmcgewogIGJhY2tncm91bmQtY29sb3I6ICMxZjg3OWM7CiAgY29sb3I6IHdoaXRlOwp9CmJ1dHRvbi5wbGF5aW5nOmFmdGVyIHsKICBjb250ZW50OiAiXDI1RkNcMDAyMCBGbHkgVGhyb3VnaCI7Cn0K"},{"version":3,"sources":["C:\\Users\\sun.ruiqi\\LAE_dashboard\\code\\src\\components\\map\\map.vue"],"names":[],"mappings":";AAuUA,CAAC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;;EAEV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,EAAE,CAAC;IACN,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;IAEhB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;MAEvC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEpB,CAAC,CAAC,CAAC,CAAC,EAAE;UACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC3B;MACF;IACF;EACF;AACF;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACxE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACvB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACd;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC","file":"C:/Users/sun.ruiqi/LAE_dashboard/code/src/components/map/map.vue","sourceRoot":"","sourcesContent":["<!--\n * @Author: Sun ruiqi\n * @Date: 2025-05-15 17:00:08\n * @LastEditors: viola\n * @LastEditTime: 2025-05-28 11:19:26\n * @FilePath: \\code\\src\\components\\map\\map.vue\n-->\n<!-- 加载视频流组件 -->\n<template>\n  <div>\n    <!-- <button id=\"fly\" class=\"stopped\" onclick=\"flyThrough()\"></button> -->\n    <div id=\"cesiumContainer\"></div>\n\n    <div id=\"credit\" style=\"display: none\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport * as Cesium from \"cesium\";\nimport \"../../Widgets/widgets.css\";\nimport { onMounted } from \"vue\";\n// 设置cesium的静态资源路径\nwindow.CESIUM_BASE_URL = \"/cesium\";\nlet inter = null;\nonMounted(() => {\n  const basemapProvider = new Cesium.UrlTemplateImageryProvider({\n    url: \"https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/imagery/WGS84/{z}/{x}/{y}.png\",\n    credit: \"© Map from Lands Department\",\n  });\n  Cesium.Ion.defaultAccessToken =\n    \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIxMTZmYTNlZi02NzU2LTQ3MTYtYWUwYS03NWRmNzllZTk5YWUiLCJpZCI6MzAzMDI1LCJpYXQiOjE3NDczODg0NTN9.paeLe2jzSEv9-YXWxw-m9hNcJHoTNQJrSZKZDkLXYF0\";\n  const viewer = new Cesium.Viewer(\"cesiumContainer\", {\n    // baseLayer: new Cesium.ImageryLayer(basemapProvider),\n    // 图层\n    imageryProvider: basemapProvider, //当baseLayerPicker为false时，imageryProvider和terrainProvider才有效\n    baseLayerPicker: false, // 底层图层控件显隐(默认true)\n\n    // 当baseLayerPicker为true时，以下两个参数才有效\n    //  参数imageryProviderViewModels(可选底图层)和terrinProviderViewModels(可选地形层)可以设置底图和地形:\n\n    // 控件显示隐藏\n    timeline: false, //下侧时间轴（默认true）\n    animation: false, //左下角动画部件按钮（默认true）\n    vrButton: false, // VR按钮（默认false）\n    fullscreenButton: true, // 全屏按钮（默认true）\n    homeButton: false, // 视角复位按钮（默认true）\n    navigationHelpButton: true, //帮助按钮 (默认true)\n    geocoder: true, // 地理编码器（搜索框）(默认true)\n    sceneModePicker: false, //二三维切换按钮(默认true)\n    shouldAnimate: false, // 自动播放动画(默认false)\n    infoBox: true, // 信息框（默认true）\n    // 参数\n    scene3DOnly: false, // 只显示3D场景（默认false）\n    showRenderLoopErrors: false, // 是否显示渲染循环错误（默认false）\n\n    requestRenderMode: true,\n    creditContainer: \"credit\",\n  });\n  viewer.scene.screenSpaceCameraController.enableCollisionDetection = true; //不允许去地下\n  // 1. 禁用 Cesium 默认滚轮缩放\n  viewer.scene.screenSpaceCameraController.enableZoom = false;\n\n  // 2. 监听容器上的滚轮事件，自定义缩放\n  const container = viewer.container;\n  container.addEventListener(\n    \"wheel\",\n    function (event) {\n      const wheelEvent = event as WheelEvent;\n      wheelEvent.preventDefault();\n      const amount = 50; // 控制缩放速度，数值越小缩放越慢\n      if (wheelEvent.deltaY < 0) {\n        viewer.camera.zoomIn(amount);\n      } else {\n        viewer.camera.zoomOut(amount);\n      }\n    },\n    { passive: false }\n  );\n\n  // 添加Cesium3DTileset图层\n  const addLayer = async () => {\n    // let tileset = await Cesium.Cesium3DTileset.fromUrl(\n    //   'https://data.map.gov.hk/api/3d-data/3dtiles/f2/tileset.json?key=3967f8f365694e0798af3e7678509421'\n    // );\n    let tileset = new Cesium.Cesium3DTileset({\n      url: \"https://data.map.gov.hk/api/3d-data/3dtiles/f2/tileset.json?key=3967f8f365694e0798af3e7678509421\",\n    });\n    await tileset.readyPromise;\n    viewer.scene.primitives.add(tileset);\n  };\n  addLayer();\n\n // 添加光照效果\n//  viewer.scene.globe.enableLighting = true\n// \t\t\tviewer.shadows = true\n// \t\t\tviewer.terrainShadows = Cesium.ShadowMode.RECEIVE_ONLY\n// \t\t\tviewer.shadowMap.darkness = 0.02 //阴影透明度--越大越透明\n// \t\t\tlet time = 0\n// \t\t\tinter = setInterval(() => {\n// \t\t\t\t// 改变时间设置光照效果\n// \t\t\t\tlet date = new Date().getTime() + time\n// \t\t\t\tlet utc = Cesium.JulianDate.fromDate(new Date(date))\n// \t\t\t\t//北京时间\n// \t\t\t\tviewer.clockViewModel.currentTime = Cesium.JulianDate.addHours(utc, 0, new Cesium.JulianDate())\n// \t\t\t\ttime = time + 1000 * 60\n// \t\t\t}, 100)\n\n  addModel(\"/3d_icon/drones.glb\", 114.13512, 22.25008, 700);\n \n  viewer.entities.add({\n    position: Cesium.Cartesian3.fromDegrees(114.1293, 22.24992, 50),\n    billboard: {\n      // 图像地址，URI或Canvas的属性\n      image: \"/3d_icon/dronepoint_red.png\",\n      // 设置颜色和透明度\n      color: Cesium.Color.WHITE.withAlpha(0.8),\n      // 高度（以像素为单位）\n      height: 50,\n      // 宽度（以像素为单位）\n      width: 50,\n      // 逆时针旋转\n      rotation: 20,\n      // 大小是否以米为单位\n      sizeInMeters: false,\n      // 相对于坐标的垂直位置\n      verticalOrigin: Cesium.VerticalOrigin.CENTER,\n      // 相对于坐标的水平位置\n      horizontalOrigin: Cesium.HorizontalOrigin.LEFT,\n      // 该属性指定标签在屏幕空间中距此标签原点的像素偏移量\n      pixelOffset: new Cesium.Cartesian2(10, 0),\n      // 应用于图像的统一比例。比例大于会1.0放大标签，而比例小于会1.0缩小标签。\n      scale: 0.8,\n      // 显示在距相机的距离处的属性，多少区间内是可以显示的\n      // distanceDisplayCondition: new Cesium.DistanceDisplayCondition(0, 1500),\n      // 是否显示\n      show: true,\n    },\n  });\n\n  viewer.camera.flyTo({\n    // lng, lat, alt\n    destination: Cesium.Cartesian3.fromDegrees(\n      // 经度\n      114.130165,\n      // 维度\n      22.260256,\n      // 高度\n      1300\n    ),\n    // orientation: {\n    //   heading: 6.280194717481077,\n    //   pitch: -0.7921019105734031,\n    //   roll: 6.283182074536001,\n    // },\n    duration: 3,\n  });\n\n  // const entity = viewer.entities.add({\n  //   name: \"drones\",\n  //   position: position,\n  //   // orientation: orientation,\n  //   model: {\n  //     uri: \"@/assets/3d_icon/drones.glb\",\n  //     minimumPixelSize: 128,\n  //     maximumScale: 20000,\n  //   },\n  // });\n  // viewer.trackedEntity = entity;\n\n  // function flyThrough() {\n  //   // const currentState = 'stopped' === document.getElementById(\"fly\").className ? 'playing' : 'stopped';\n  //   // document.getElementById(\"fly\").className = currentState;\n  //   const flyButton = document.getElementById(\"fly\");\n  //   const currentState =\n  //     flyButton && flyButton.className === \"stopped\" ? \"playing\" : \"stopped\";\n  //   if (flyButton) {\n  //     flyButton.className = currentState;\n  //   }\n  //   viewer.scene.screenSpaceCameraController.enableInputs = false;\n  //   if (\"playing\" === currentState) {\n  //     viewer.camera.flyTo({\n  //       destination: new Cesium.Cartesian3(\n  //         -2422424.2445589276,\n  //         5384032.397876303,\n  //         2405707.0615597237\n  //       ),\n  //       orientation: {\n  //         heading: 5.6200000366324705,\n  //         pitch: -0.32032049944881735,\n  //         roll: 6.283175543034232,\n  //       },\n  //       complete: function () {\n  //         const distance = Cesium.Cartesian3.distance(\n  //           Cesium.Cartesian3.fromDegrees(114.214374, 22.315202),\n  //           Cesium.Cartesian3.fromDegrees(\n  //             114.22428750237164,\n  //             22.304629162175697\n  //           )\n  //         );\n  //         const startTime = Cesium.JulianDate.fromDate(new Date());\n  //         const stopTime = Cesium.JulianDate.addSeconds(\n  //           startTime,\n  //           distance,\n  //           new Cesium.JulianDate()\n  //         );\n  //         const property = new Cesium.SampledPositionProperty();\n  //         let time = Cesium.JulianDate.addSeconds(\n  //           startTime,\n  //           0,\n  //           new Cesium.JulianDate()\n  //         );\n  //         let position = Cesium.Cartesian3.fromDegrees(\n  //           114.22428750237164,\n  //           22.304629162175697,\n  //           132.02238802935133\n  //         );\n  //         property.addSample(time, position);\n  //         time = Cesium.JulianDate.addSeconds(\n  //           startTime,\n  //           distance,\n  //           new Cesium.JulianDate()\n  //         );\n  //         position = Cesium.Cartesian3.fromDegrees(\n  //           114.214374,\n  //           22.315202,\n  //           132.02238802935133\n  //         );\n  //         property.addSample(time, position);\n  //         let entity = {\n  //           availability: new Cesium.TimeIntervalCollection([\n  //             new Cesium.TimeInterval({\n  //               start: startTime,\n  //               stop: stopTime,\n  //             }),\n  //           ]),\n  //           position: property,\n  //         };\n  //         entity.position.setInterpolationOptions({\n  //           interpolationDegree: 2,\n  //           interpolationAlgorithm: Cesium.HermitePolynomialApproximation,\n  //         });\n\n  //         viewer.clock.startTime = startTime.clone();\n  //         viewer.clock.stopTime = stopTime.clone();\n  //         viewer.clock.currentTime = startTime.clone();\n  //         viewer.clock.clockRange = Cesium.ClockRange.LOOP_STOP;\n  //         viewer.clock.multiplier = 50;\n  //         viewer.clock.shouldAnimate = true;\n  //         viewer.camera.position = new Cesium.Cartesian3(0.25, 0, 5);\n  //         viewer.camera.direction = new Cesium.Cartesian3(-1.25, 1.6, -0.6725);\n  //         viewer.camera.up = new Cesium.Cartesian3(0.0, 0.0, 1.0);\n  //         viewer.camera.right = new Cesium.Cartesian3(0.0, -1.0, 0.0);\n\n  //         viewer.scene.postUpdate.addEventListener(function (scene, time) {\n  //           if (viewer.clock.shouldAnimate) {\n  //             viewer.scene.screenSpaceCameraController.enableInputs = false;\n  //             const position = entity.position.getValue(time);\n  //             if (!Cesium.defined(position)) {\n  //               return;\n  //             }\n  //             let transform;\n  //             if (!Cesium.defined(entity.orientation)) {\n  //               transform = Cesium.Transforms.eastNorthUpToFixedFrame(position);\n  //             }\n  //             const offset = Cesium.Cartesian3.clone(viewer.camera.position);\n  //             const direction = Cesium.Cartesian3.clone(\n  //               viewer.camera.direction\n  //             );\n  //             const up = Cesium.Cartesian3.clone(viewer.camera.up);\n  //             viewer.camera.lookAtTransform(transform);\n  //             Cesium.Cartesian3.clone(offset, viewer.camera.position);\n  //             Cesium.Cartesian3.clone(direction, viewer.camera.direction);\n  //             Cesium.Cartesian3.clone(up, viewer.camera.up);\n  //             Cesium.Cartesian3.cross(direction, up, viewer.camera.right);\n  //           } else {\n  //             viewer.scene.postUpdate._listeners.pop();\n  //             viewer.entities.remove(entity);\n  //             viewer.clock.clockRange = 0;\n  //             viewer.clock.multiplier = 1;\n  //             viewer.clock.currentTime = Cesium.JulianDate.fromDate(new Date());\n  //             viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);\n  //             viewer.camera.flyTo({\n  //               destination: Cesium.Cartesian3.fromDegrees(\n  //                 114.21918297929119,\n  //                 22.237495624660887,\n  //                 4999.9999999995025\n  //               ),\n  //               orientation: {\n  //                 heading: 6.283185307179586,\n  //                 pitch: -0.5251224807670001,\n  //                 roll: 6.283185307179585,\n  //               },\n  //             });\n  //           }\n  //         });\n  //       },\n  //     });\n  //   } else {\n  //     viewer.clock.shouldAnimate = false;\n  //     viewer.scene.screenSpaceCameraController.enableInputs = true;\n  //   }\n  // }\n\n  function addModel(\n    url: string,\n    longitude: number,\n    latitude: number,\n    height: number\n  ) {\n    var modelMatrix = Cesium.Transforms.eastNorthUpToFixedFrame(\n      Cesium.Cartesian3.fromDegrees(longitude, latitude, height)\n    );\n    viewer.scene.primitives.add(\n      Cesium.Model.fromGltf({\n        //Gltf和glb模型都用fromGltf\n        url: url,\n        modelMatrix: modelMatrix,\n        minimumPixelSize: 64,\n        maximumScale: 20000,\n        scale: 0.05,\n      })\n    );\n  }\n});\n</script>\n\n<style scoped>\nhtml,\nbody,\n#cesiumContainer {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  z-index: 1;\n\n  .loading {\n    @include Width(50);\n    @include hHeight(50);\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    margin: auto;\n    @include FontSize(40);\n    font-weight: 600;\n\n    :deep(.el-loading-mask) {\n      background: rgba(0, 0, 0, 0) !important;\n\n      .circular {\n        @include Width(50);\n        @include hHeight(50);\n\n        .path {\n          stroke: rgb(32, 158, 216);\n        }\n      }\n    }\n  }\n}\nbutton {\n  font-family: \"Roboto\", \"-apple-system\", \"Helvetica Neue\", Helvetica, Arial,\n    sans-serif;\n  background-color: white;\n  color: #1f879c;\n  border-color: #1f879c;\n  border-radius: 3px;\n  padding: 4px 8px;\n  margin: 10px 0px 0px 10px;\n  z-index: 999;\n  position: fixed;\n  cursor: pointer;\n}\nbutton.stopped:after {\n  content: \"\\25B6\\0020 Fly Through\";\n}\nbutton.playing {\n  background-color: #1f879c;\n  color: white;\n}\nbutton.playing:after {\n  content: \"\\25FC\\0020 Fly Through\";\n}\n</style>\n"]}]}